{
  "name": "My workflow 2",
  "nodes": [
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_user",
              "lookupValue": "={{ $json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -3728,
        192
      ],
      "id": "532d8d58-956e-43ad-88e7-eaf32f15c737",
      "name": "registro de usuarios",
      "alwaysOutputData": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Hola, soy AgendaBot üëã  \n\nEstoy aqu√≠ para ayudarte a organizar tus citas, tareas y recordatorios de forma sencilla y sin complicaciones.  \nPuedes escribirme en cualquier momento. Para avanzar, solo tienes que escribir el n√∫mero de la opci√≥n que quieras usar.  \nMen√∫ principal: \n\n0. Ayuda\n1. Agenda (citas) \n2. Tareas \n3. Recordatorios \n4. H√°bitos \n5. Listas \n6. Reportes \n7. Configuraci√≥n \n8. Administrador Mensaje de orientaci√≥n:  \n\nTip r√°pido: escribe solo el n√∫mero (por ejemplo: 1) y presiona enviar.\n- Puedes oprimir 9 en cualquier momento para regresar al menu principal",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        656,
        -512
      ],
      "id": "25bdb9da-0995-41ea-a204-eee139812880",
      "name": "menu principal",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Perfecto, vamos con tu agenda.\n  ¬øQu√© deseas hacer? \n\n1. Agendar una nueva cita \n2. Consultar tu agenda \n3. Reprogramar una cita \n4. Cancelar una cita \n5. Marcar una cita como completada \n0. Volver al men√∫ principal",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2800,
        -832
      ],
      "id": "0081c1fd-3da2-48b0-ad86-a3ade750cdda",
      "name": "opcion 1",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "ocurio un error",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        3392,
        -224
      ],
      "id": "0fbdc9f1-d36c-44d8-b525-fc258bb92584",
      "name": "opcion 2",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "591b24cb-4ebe-4044-82a4-42cb1904921b",
              "leftValue": "={{ !$json.telegram_user || String($json.telegram_user).trim() === '' }}",
              "rightValue": "={{ !$json.userID }}",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -3520,
        192
      ],
      "id": "7d0a1472-ab12-4505-8239-cd3c96f39f31",
      "name": "si usuario no existe",
      "alwaysOutputData": false
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1398660913,
          "mode": "list",
          "cachedResultName": "USUARIOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1398660913"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "nombre": "={{ $('Telegram Trigger').item.json.message.from.first_name }} {{ $('Telegram Trigger').item.json.message.from.last_name }}",
            "rol": "usuario",
            "permitido": "activo"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "rol",
              "displayName": "rol",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "permitido",
              "displayName": "permitido",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        16,
        -448
      ],
      "id": "545af76a-9b8e-49ae-bed0-9cec54d764a6",
      "name": "registramos usuario1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1387845644,
          "mode": "list",
          "cachedResultName": "LOGS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1387845644"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "timestamp": "={{ $today }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "timestamp",
              "displayName": "timestamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "pantalla",
              "displayName": "pantalla",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "opcion_elegida",
              "displayName": "opcion_elegida",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "resultado",
              "displayName": "resultado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1168,
        -288
      ],
      "id": "960b72e3-aa08-4659-9794-4ba6530cd080",
      "name": "registramos usuario2",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "591b24cb-4ebe-4044-82a4-42cb1904921b",
              "leftValue": "={{ !$json.paso_actual || String($json.paso_actual).trim() === 'menu-Agenda' }}",
              "rightValue": "={{ !$json.userID }}",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        2176,
        -816
      ],
      "id": "90231a06-6b6b-4323-b330-7b841c033046",
      "name": "si usuario no existe1"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Men√∫ Recordatorios: \n\n1. Crear recordatorio \n2. Ver recordatorios activos \n3. Editar recordatorio \n4. Eliminar recordatorio \n9. Volver al men√∫ principal",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2416,
        -464
      ],
      "id": "588fef17-addc-4334-b87e-107efd313765",
      "name": "opcion ",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Empecemos a crear tu cita.  \n\nPaso 1 de 6 \n\n¬øCu√°l es la fecha de la cita?  \n\nFormato: YYYY-MM-DD \nEjemplo: 2025-12-20  \n\n9. Cancelar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2944,
        528
      ],
      "id": "bbf0def6-cab9-46ed-8312-7015303d341f",
      "name": "opcion 3",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "pantalla_actual": "agenda",
            "paso_actual": "menu-Agenda",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1952,
        -816
      ],
      "id": "1e33ac69-750e-4f63-bb88-f91c767b4a70",
      "name": "registramos usuario4",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "pantalla_actual": "menu-principal",
            "paso_actual": "menu_inicial",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1184,
        -496
      ],
      "id": "a91d9b4d-d02b-4ec5-93d6-1c3343c59e80",
      "name": "registramos usuario5",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "fdcbf4d0-2d6d-454e-a177-57b6ef1c3fd1",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "menu_inicial",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        480,
        624
      ],
      "id": "6ecfe6be-9e70-4c8d-ab3d-8da467be8daf",
      "name": "agenda"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "paso_actual": "=agenda-nueva_cita-paso2",
            "pantalla_actual": "nueva-cita",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2768,
        528
      ],
      "id": "665f74f6-3091-4c0f-a457-6d16a2e8c78f",
      "name": "registramos usuario",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Paso 2 de 6 \n\n¬øA qu√© hora ser√° la cita?  \nFormato 24 horas (HH:MM) \nEjemplo: 14:30  \n\n9. Cancelar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2160,
        1152
      ],
      "id": "11030a43-2737-40e2-92e6-0455f3b46537",
      "name": "opcion 4",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "rEyfCpnD3b6a5tBR",
          "name": "Telegram account 4"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "paso_actual": "=agenda-nueva_cita-paso3",
            "pantalla_actual": "nueva-cita",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1904,
        1024
      ],
      "id": "4bdbc36c-0458-4778-96ac-3718b08550b2",
      "name": "registramos usuario7",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Paso 3 de 6 \n¬øA nombre de qui√©n es la cita? \n Escribe el nombre completo. \n\n 9. Cancelar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2256,
        1328
      ],
      "id": "795ddb39-be77-41f3-ad57-50b3a332b57e",
      "name": "opcion 5",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_cita": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "fecha": "={{ $('Telegram Trigger').item.json.message.text }}",
            "timestamp_creacion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "id_cita",
              "displayName": "id_cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "fecha",
              "displayName": "fecha",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "hora",
              "displayName": "hora",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "motivo",
              "displayName": "motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "canal",
              "displayName": "canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        3248,
        528
      ],
      "id": "6b75b1a0-f0d3-431e-9a4c-0fae1c63dde9",
      "name": "registramos usuario8",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_cita": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "timestamp_creacion": "={{ $today }}",
            "hora": "={{ $json.result.text }}"
          },
          "matchingColumns": [
            "id_cita"
          ],
          "schema": [
            {
              "id": "id_cita",
              "displayName": "id_cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "fecha",
              "displayName": "fecha",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "hora",
              "displayName": "hora",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "motivo",
              "displayName": "motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "canal",
              "displayName": "canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2400,
        992
      ],
      "id": "ff905266-b00a-4981-853f-af6d9c696282",
      "name": "registramos usuario9",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "3bbe166a-5fd3-47b3-8f78-ece3bc1dfb32",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "0",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "c651d729-12ee-452e-b7b6-9c3b87681fc6"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "097d1714-af58-4019-b56b-db454f21bec1",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "1b174d60-dc6b-470a-9066-09fb6f116843",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "251dd3c5-e87a-4f17-a546-d547aef9b8c4",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "4",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "06936585-986f-4fa9-a53b-93fda0fbc808",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "5",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "daadb5bf-686f-418f-8566-5426c23198c0",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "6",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "8a2af068-04ec-4948-a5f2-0aa1fd3dec1d",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "7",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "165ef5dd-c140-4e0e-abab-d1751034da65",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "8",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "a5164f5e-e55f-4f4b-adb0-bb645d7c5121",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "9",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        1088,
        16
      ],
      "id": "fc17ca04-67a0-44df-88c5-3aaf2aac3079",
      "name": "menu inical"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "menu-Agenda",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "e0156338-4cdb-4dcf-acd8-be7fdb4ffbae"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "5eb9cf66-c9f2-42a1-8132-a5a9afb47d15",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "agenda-nueva_cita",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "61b19804-002f-47f0-918c-c9e8051499d3",
                    "leftValue": "={{ $('registro de usuarios').item.json.pantalla_actual }}",
                    "rightValue": "nueva-cita",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        1120,
        1024
      ],
      "id": "ff6b095d-5aad-47f5-8724-836c821412e2",
      "name": "menu agenda"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "097d1714-af58-4019-b56b-db454f21bec1",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "0",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "c651d729-12ee-452e-b7b6-9c3b87681fc6"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "1b174d60-dc6b-470a-9066-09fb6f116843",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "(0,1,2,3,4,5,6,7,8,0)",
                    "operator": {
                      "type": "string",
                      "operation": "notEquals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "e56301c4-1ef5-4c52-9926-a99e0ac0fae6",
                    "leftValue": "",
                    "rightValue": "(0,1,2,3,4,5,6,7,8,)",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        1360,
        1072
      ],
      "id": "61ad5d35-a297-45bb-8624-dbac0537a3dd",
      "name": "opciones menu agenda"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "088377ec-b423-46cc-9c30-dd6c47b3437c",
                    "leftValue": "={{ $('registro de usuarios').item.json.paso_actual }}",
                    "rightValue": "agenda-nueva_cita",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('registro de usuarios').item.json.paso_actual }}\n",
                    "rightValue": "agenda-nueva_cita-paso1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "d7dc013c-3250-4e12-be53-85d03d2c68ef"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "591b5b1c-28a0-4a50-a8e9-fb199326cc8c",
                    "leftValue": "={{ $('registro de usuarios').item.json.paso_actual }}",
                    "rightValue": "agenda-nueva_cita-paso2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "8e2006b6-b29b-4faa-a436-ef1c598e6ef3",
                    "leftValue": "={{ $('registro de usuarios').item.json.paso_actual }}",
                    "rightValue": "agenda-nueva_cita-paso3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        1600,
        912
      ],
      "id": "33715662-8023-4e22-91c4-34f17ab23661",
      "name": "nueva agenda"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "pantalla_actual": "tareas",
            "paso_actual": "menu-Tareas",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1936,
        -640
      ],
      "id": "64037fe1-1c68-4422-89f6-224d44a76525",
      "name": "registramos usuario10",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "591b24cb-4ebe-4044-82a4-42cb1904921b",
              "leftValue": "={{ !$json.paso_actual || String($json.paso_actual).trim() === 'menu-Tareas' }}",
              "rightValue": "={{ !$json.userID }}",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        2144,
        -624
      ],
      "id": "05429a7e-f09c-48a8-912a-50440567a95a",
      "name": "si usuario no existe2"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "paso_actual": "=agenda-nueva_cita",
            "pantalla_actual": "agenda",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2480,
        -832
      ],
      "id": "1aded940-6983-423e-97fa-6c9288da152f",
      "name": "registramos usuario3",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "paso_actual": "=crear-tarea-paso1",
            "pantalla_actual": "tareas",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2576,
        -640
      ],
      "id": "9bebdc19-78ef-43f6-a454-1cff58aad5f1",
      "name": "registramos usuario11",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Men√∫ Tareas:\n\n1. Crear nueva tarea\n2. Ver mis tareas\n3. Cambiar estado de una tarea\n4. Editar tarea\n5. Eliminar tarea\n9. Volver al men√∫ principal\n",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2832,
        -624
      ],
      "id": "81680e85-b202-4dcd-a75a-26f17798bef6",
      "name": "opcion 6",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "pantalla_actual": "ayuda",
            "paso_actual": "menu-Ayuda",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1968,
        -1008
      ],
      "id": "fac55ca9-c3da-42d7-b7e9-13441e1c0eb0",
      "name": "registramos usuario12",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "591b24cb-4ebe-4044-82a4-42cb1904921b",
              "leftValue": "={{ !$json.paso_actual || String($json.paso_actual).trim() === 'menu-Ayuda' }}",
              "rightValue": "={{ !$json.userID }}",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        2160,
        -1008
      ],
      "id": "2b552fa6-bc70-443b-bf7d-412e7fc31c05",
      "name": "si usuario no existe3"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "paso_actual": "=menu-ayuda1",
            "pantalla_actual": "ayuda",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2384,
        -1024
      ],
      "id": "bb342170-38df-4d21-bd5d-36ba4376dc82",
      "name": "registramos usuario13",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Perfecto, Dime en que te puedo ayudar.\n\nEscribe solo el numero correspondiente\n\nMen√∫ Ayuda:\n1. C√≥mo funciona AgendaBot\n2. Ejemplos r√°pidos\n3. Reglas y limitaciones\n9. Volver al men√∫ principal",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2720,
        -1040
      ],
      "id": "de0da71a-acf6-4c47-9f4c-1224f2e83e2b",
      "name": "opcion 7",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.pantalla_actual }}",
                    "rightValue": "ayuda",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "3d786a15-456a-49a8-9ccf-a0bbe9d573e8"
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -400,
        1024
      ],
      "id": "8adc4672-75a7-4bd5-81a8-6a94b73a6efd",
      "name": "ayuda"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "15764de0-03eb-43a4-9237-a674bb265a2b"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "7b1e4db0-65e6-4de9-beb6-def825933946",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "631958eb-e6f3-43ec-9719-39d0ec470793",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "76ba5397-ae5d-4255-9240-120e740792cd",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "9",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -96,
        1296
      ],
      "id": "c57aa6b7-a0fd-4637-9f6d-e5e6c9fa245d",
      "name": "Switch1"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Te doy una explicacion muy  clara y consisa de como funciona AgendaBot\n\nTodo se maneja por n√∫meros  El bot gu√≠a paso a paso  \n\nSiempre puedes volver al men√∫ principal con 9",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        336,
        816
      ],
      "id": "d2f955c1-b938-4e09-84bb-850784b490ca",
      "name": "opcion 1 de ayuda",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Te voy a dejar algunos ejemplos:\n\n‚ÄúPara agendar una cita: escribe 1 ‚Üí 1‚Äù\n\n‚ÄúPara ver tareas: escribe 2 ‚Üí 2‚Äù\n\n9. Para volver a menu principal",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        336,
        992
      ],
      "id": "8ce537e6-9683-4fc8-aef7-ed26242963fd",
      "name": "opcion 2 de ayuda1",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Te dejamos nuestras reglas para que las tengas en cuenta\n\nNo se agenda en el pasado\n\nNo se duplican citas\n\nAlgunas funciones dependen de permisos\n\n9. Para volver a menu principal",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        336,
        1168
      ],
      "id": "7ebab006-b56d-465d-bda0-803d38cf00d4",
      "name": "opcion 2 de ayuda",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "content": "## I'm a note \n**Double click** to edit me. [Guide](https://docs.n8n.io/workflows/components/sticky-notes/)\n\nParte de Tareas",
        "height": 1280,
        "width": 1776
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -288,
        1024
      ],
      "typeVersion": 1,
      "id": "854a1a8e-bff9-41b6-870b-bdfb82553a68",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "pantalla_actual": "recordatorios",
            "paso_actual": "menu-recordatorios",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1872,
        -448
      ],
      "id": "9261da64-221d-4d8e-b783-d416d7c5f799",
      "name": "registramos usuario14",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "591b24cb-4ebe-4044-82a4-42cb1904921b",
              "leftValue": "={{ !$json.paso_actual || String($json.paso_actual).trim() === 'menu-recordatorios' }}",
              "rightValue": "={{ !$json.userID }}",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        2032,
        -448
      ],
      "id": "c09355b5-7f27-4710-9833-d1050a933ee7",
      "name": "si usuario no existe4"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "paso_actual": "=menu-recordatorios",
            "pantalla_actual": "recordatorios",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2256,
        -448
      ],
      "id": "23f0a60d-9275-4a0c-841b-2c46aaf9e0ee",
      "name": "registramos usuario15",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.2,
      "position": [
        -3952,
        192
      ],
      "id": "662bed95-86ff-40b5-8f90-f42aa178c6f6",
      "name": "Telegram Trigger",
      "webhookId": "22335d2a-ed17-4d00-8e19-3733fd214218",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "menu-recordatorios",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "1c7668bf-3423-4c30-8809-a943625aea12"
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -2608,
        1232
      ],
      "id": "0df154bc-e2dd-4116-ab8b-08915895778e",
      "name": "recordatorios"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Escribe el mensaje del recordatorio",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1872,
        768
      ],
      "id": "93afffe1-471b-4501-b083-709fdab24441",
      "name": "opcion 2 de ayuda2",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "17623f3e-f824-490d-876d-eac3ca5b33c5",
              "leftValue": "={{ $json.paso_actual }}",
              "rightValue": "menu-crear-recordatorio",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -2224,
        1488
      ],
      "id": "eb8f58be-5e6b-4d5a-8339-3cc2036a5162",
      "name": "If6"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "paso_actual": "=crear_fecha",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "=texto:{{ $('Telegram Trigger').item.json.message.text }}",
            "row_number": 0
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1968,
        1456
      ],
      "id": "c69c7b2b-c521-4a79-bdb6-675cacbb6380",
      "name": "Update row in sheet1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "paso_actual": "=menu-crear-recordatorio",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -2128,
        768
      ],
      "id": "042a21ec-da70-46ff-9c67-170e0a899f9b",
      "name": "Update row in sheet7",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "Escribe la fecha",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1760,
        1456
      ],
      "id": "6255ba8d-8164-4271-93d1-46d6769e471d",
      "name": "opcion 2 de ayuda3",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "17623f3e-f824-490d-876d-eac3ca5b33c5",
              "leftValue": "={{ $json.paso_actual }}",
              "rightValue": "crear_fecha",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -2208,
        1648
      ],
      "id": "01ccb74a-f378-457c-bb6a-d8782d209e1d",
      "name": "If7"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "paso_actual": "=crear_hora",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "={{ $json.datos_parciales }}:,\nfecha:{{ $('Telegram Trigger').item.json.message.text }}",
            "row_number": 0
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1936,
        1632
      ],
      "id": "d8fcba4e-cf84-4351-9824-8de2974cbebe",
      "name": "Update row in sheet8",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "‚è∞ Escribe la hora (HH:MM)",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1728,
        1632
      ],
      "id": "ac6ec406-76da-406a-988a-7a46ef95125d",
      "name": "opcion 2 de ayuda4",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "17623f3e-f824-490d-876d-eac3ca5b33c5",
              "leftValue": "={{ $json.paso_actual }}",
              "rightValue": "crear_hora",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -2208,
        1808
      ],
      "id": "c1ff64ae-1984-48ed-8a5f-23319d4bed37",
      "name": "If8"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "=‚úÖ Recordatorio creado correctamente\n\nEl id de tu recordatorio es {{ $json['id-recordatorio'] }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1648,
        1792
      ],
      "id": "e8def874-50ef-4c94-9913-caac2429f72d",
      "name": "opcion 2 de ayuda5",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "content": "## I'm a note \nCrear recordatorios",
        "height": 496,
        "width": 1184
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2672,
        880
      ],
      "typeVersion": 1,
      "id": "90aac8b8-70c9-46f4-9b18-b8b5b7ea2e53",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 292205146,
          "mode": "list",
          "cachedResultName": "RECORDATORIOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=292205146"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_user",
              "lookupValue": "={{ $('Telegram Trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -2096,
        912
      ],
      "id": "903253d7-0ea9-4081-9b3c-d644d3c250b9",
      "name": "Get row(s) in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=Id: {{ $('Get row(s) in sheet').item.json['id-recordatorio'] }}\n\n{{ $('Get row(s) in sheet').item.json.Recordatorio }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1664,
        912
      ],
      "id": "49410a3c-33dc-4e47-bdaf-2be89f18e43f",
      "name": "opcion 2 de ayuda6",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 292205146,
          "mode": "list",
          "cachedResultName": "RECORDATORIOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=292205146"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_user",
              "lookupValue": "={{ $('Telegram Trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -2080,
        1136
      ],
      "id": "8b185762-d030-484d-83de-40b016d09edd",
      "name": "Get row(s) in sheet1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=Tus recordatorios:\n\nID: {{ $json['id-recordatorio'] }}\n\n{{ $json.Recordatorio }}\n\nEscribe el ID a editar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1872,
        1104
      ],
      "id": "ac215cfd-5bac-469c-9510-acede588e776",
      "name": "opcion 2 de ayuda7",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Get row(s) in sheet1').item.json.pantalla_actual }}",
            "paso_actual": "=editar-id",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "={{ $('menu-recordatorios').item.json.datos_parciales }}",
            "row_number": 0
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1680,
        1104
      ],
      "id": "cb725ab2-0e6a-4587-9421-34adcbf5cc30",
      "name": "Update row in sheet10",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "17623f3e-f824-490d-876d-eac3ca5b33c5",
              "leftValue": "={{ $json.paso_actual }}",
              "rightValue": "editar-recordatorio",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -2208,
        1984
      ],
      "id": "c8dfd7c5-9fab-49da-84ae-ad3085c50b42",
      "name": "If9"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 292205146,
          "mode": "list",
          "cachedResultName": "RECORDATORIOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=292205146"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "id-recordatorio": "={{ $now }}",
            "Recordatorio": "={{ $json.datos_parciales }}",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "id-recordatorio",
              "displayName": "id-recordatorio",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Recordatorio",
              "displayName": "Recordatorio",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1792,
        2464
      ],
      "id": "4bf4af0b-7e62-4d45-8021-c4523e74be1a",
      "name": "Update row in sheet11",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "‚úèÔ∏è Escribe el nuevo texto",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1520,
        1952
      ],
      "id": "48c9d04c-ff50-4de9-8bb0-be8717acd6a1",
      "name": "opcion 2 de ayuda8",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "paso_actual": "=ver-recordatorios",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1888,
        912
      ],
      "id": "1f2721f4-e2aa-4414-a9bf-b70f6874c66a",
      "name": "Update row in sheet12",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "17623f3e-f824-490d-876d-eac3ca5b33c5",
              "leftValue": "={{ $json.paso_actual }}",
              "rightValue": "ver-recordatorios",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -2208,
        2160
      ],
      "id": "2b272f7f-989f-42b3-8772-6104d4e1756e",
      "name": "If11"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "=menu-principal",
            "paso_actual": "=menu_inicial",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "={{ $json.datos_parciales }}",
            "row_number": 0
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1952,
        2144
      ],
      "id": "d208dd35-35aa-4a2c-bc6d-928f677f9e90",
      "name": "Update row in sheet13",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "c67e8c8f-10d4-4a32-a54d-d53cd0b0dcaa"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "1f1cece2-6239-492d-b1a6-38c1f7253f8a",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "849f310f-26fc-4473-8b0d-d150da28a8db",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -1952,
        1968
      ],
      "id": "2f6dcc3a-a2e4-4faa-9c2d-a28e414487d2",
      "name": "Switch4"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "17623f3e-f824-490d-876d-eac3ca5b33c5",
              "leftValue": "={{ $json.paso_actual }}",
              "rightValue": "actualizar-recordatorio",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -2192,
        2480
      ],
      "id": "c3ff9f25-584b-432e-bf43-3afa42a3cc49",
      "name": "If12"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 292205146,
          "mode": "list",
          "cachedResultName": "RECORDATORIOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=292205146"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_user",
              "lookupValue": "={{ $('Telegram Trigger').item.json.message.chat.id }}"
            },
            {
              "lookupColumn": "recordatorio",
              "lookupValue": "={{ $json.datos_parciales }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1712,
        1952
      ],
      "id": "183423ea-ed3e-4dbf-94fd-4968331d97cd",
      "name": "Get row(s) in sheet3",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "=menu-principal",
            "paso_actual": "=menu_inicial",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "={{ $('If8').item.json.datos_parciales }}",
            "row_number": 0
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1472,
        1792
      ],
      "id": "3614a69b-e8b6-48cf-b61b-eb14fa53d811",
      "name": "Update row in sheet14",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "17623f3e-f824-490d-876d-eac3ca5b33c5",
              "leftValue": "={{ $json.paso_actual }}",
              "rightValue": "editar-id",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -2192,
        2320
      ],
      "id": "78b0b163-15fe-4ca7-b521-8362e2d84202",
      "name": "If13"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "Escribe e nuevo recordatorio con texto, fecha y hora\n\nEjemplo:\n\nTexto: Reclamar medicina\nFecha: 2026-01-28\nHora: 9:30 AM",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1824,
        2320
      ],
      "id": "1d678d28-334d-4b0e-a2d0-900ccca2b5b5",
      "name": "opcion 2 de ayuda10",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "paso_actual": "=guardar-recordatorio",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "={{ $('menus-pasos').item.json.datos_parciales }}\nHora: {{ $('Telegram Trigger').item.json.message.text }}",
            "row_number": 0
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -2016,
        1792
      ],
      "id": "a472a3e9-bb3d-4144-907c-a36c9aa5e68e",
      "name": "Update row in sheet9",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 292205146,
          "mode": "list",
          "cachedResultName": "RECORDATORIOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=292205146"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id-recordatorio": "={{ $now }}",
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "Recordatorio": "={{ $json.datos_parciales }}",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "id-recordatorio",
              "displayName": "id-recordatorio",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Recordatorio",
              "displayName": "Recordatorio",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1840,
        1792
      ],
      "id": "d58513e1-7479-4aa2-b9b6-76b83cc387e2",
      "name": "Append row in sheet1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "paso_actual": "=actualizar-recordatorio",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "={{ $json.datos_parciales }}",
            "row_number": 0
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1984,
        2304
      ],
      "id": "92009a61-eb17-4118-83d4-55fa29578b75",
      "name": "Update row in sheet16",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "datos_parciales": "={{ $('Telegram Trigger').item.json.message.text }}",
            "pantalla_actual": "={{ $('si usuario no existe').item.json.pantalla_actual }}",
            "paso_actual": "={{ $('si usuario no existe').item.json.paso_actual }}",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1968,
        2464
      ],
      "id": "94d0de6f-81d9-40d2-90d8-0f15bcae166d",
      "name": "Update row in sheet15",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "=‚úÖ Recordatorio editado correctamente\n\nEl id de tu recordatorio es {{ $json['id-recordatorio'] }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1600,
        2464
      ],
      "id": "512cdd06-a06b-46ae-b080-4478593e9c29",
      "name": "opcion 2 de ayuda9",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "=menu-principal",
            "paso_actual": "=menu_inicial",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "=",
            "row_number": 0
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1424,
        2464
      ],
      "id": "e0b3232c-5a60-4160-bd6b-14c1d7a166d2",
      "name": "Update row in sheet17",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "15764de0-03eb-43a4-9237-a674bb265a2b"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "7b1e4db0-65e6-4de9-beb6-def825933946",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "631958eb-e6f3-43ec-9719-39d0ec470793",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "76ba5397-ae5d-4255-9240-120e740792cd",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "4",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "76cbc470-c5f6-4daa-b080-cf5ff3674040",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "9",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -2368,
        1232
      ],
      "id": "30c31e0c-1056-40c6-98b0-6d530af838f3",
      "name": "menu-recordatorios"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 292205146,
          "mode": "list",
          "cachedResultName": "RECORDATORIOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=292205146"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_user",
              "lookupValue": "={{ $('Telegram Trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -2096,
        1296
      ],
      "id": "72331d6e-ea18-469c-83dd-8f3bfb1b1947",
      "name": "Get row(s) in sheet4",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=Tus recordatorios:\n\nID: {{ $json['id-recordatorio'] }}\n\n{{ $json.Recordatorio }}\n\nEscribe el ID a eliminar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1904,
        1280
      ],
      "id": "110ce625-bdf0-44fb-b895-ceb723cd4457",
      "name": "opcion 2 de ayuda11",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Get row(s) in sheet4').item.json.pantalla_actual }}",
            "paso_actual": "=eliminar-recordatorio",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "={{ $('menu-recordatorios').item.json.datos_parciales }}",
            "row_number": 0
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1712,
        1280
      ],
      "id": "81e0f869-ce3c-45c6-8f9a-a860ca83cd42",
      "name": "Update row in sheet18",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "17623f3e-f824-490d-876d-eac3ca5b33c5",
              "leftValue": "={{ $json.paso_actual }}",
              "rightValue": "eliminar-recordatorio",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -2192,
        2688
      ],
      "id": "f63d6fbb-7c27-4266-aec6-fd8602365146",
      "name": "If14"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 292205146,
          "mode": "list",
          "cachedResultName": "RECORDATORIOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=292205146"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('si usuario no existe').item.json.pantalla_actual }}",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "id-recordatorio": "={{ $('Telegram Trigger').item.json.message.text }}",
            "Recordatorio": "Eliminado"
          },
          "matchingColumns": [
            "id-recordatorio"
          ],
          "schema": [
            {
              "id": "id-recordatorio",
              "displayName": "id-recordatorio",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Recordatorio",
              "displayName": "Recordatorio",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1968,
        2672
      ],
      "id": "501a94eb-80d1-4d67-bb31-b81516eb2b5d",
      "name": "Update row in sheet20",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "=‚úÖ Recordatorio eliminado correctamente",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1744,
        2672
      ],
      "id": "115b19d6-4966-44cf-b6e6-ea0da7286cd4",
      "name": "opcion 2 de ayuda12",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "=menu-principal",
            "paso_actual": "=menu_inicial",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "=",
            "row_number": 0
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1552,
        2672
      ],
      "id": "d18d947e-6f7a-411c-a159-fc867c5ba977",
      "name": "Update row in sheet19",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "pantalla_actual": "habitos",
            "paso_actual": "menu-habitos",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1888,
        -288
      ],
      "id": "a0f637af-4e74-42bd-bb65-27cb46de2c8c",
      "name": "registramos usuario18",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "591b24cb-4ebe-4044-82a4-42cb1904921b",
              "leftValue": "={{ !$json.paso_actual || String($json.paso_actual).trim() === 'menu-habitos' }}",
              "rightValue": "={{ !$json.userID }}",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        2048,
        -288
      ],
      "id": "a3fcbf39-ee0d-4d9b-ac5e-87e5bad5469d",
      "name": "si usuario no existe5"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "paso_actual": "=menu-habitos",
            "pantalla_actual": "habitos",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2288,
        -288
      ],
      "id": "b22e586e-adf8-4673-9a19-94cd0cf08d8f",
      "name": "registramos usuario19",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "üìà Men√∫ H√°bitos:\n\nElije una opci√≥n:\n\n1Ô∏è‚É£ Crear h√°bito\n2Ô∏è‚É£ Ver mis h√°bitos\n9Ô∏è‚É£ Volver al men√∫ principal\n",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2464,
        -288
      ],
      "id": "622c244d-cfcc-4b06-8065-4275eeb952bf",
      "name": "opcion 14",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "pantalla_actual": "listas",
            "paso_actual": "menu-listas",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1888,
        -96
      ],
      "id": "321fa608-4ef7-4016-91dd-5845036d8e0e",
      "name": "registramos usuario20",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "591b24cb-4ebe-4044-82a4-42cb1904921b",
              "leftValue": "={{ !$json.paso_actual || String($json.paso_actual).trim() === 'menu-listas' }}",
              "rightValue": "={{ !$json.userID }}",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        2080,
        -96
      ],
      "id": "e219bf5d-cbfe-4691-b8a0-407dedbe33ee",
      "name": "si usuario no existe6"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "paso_actual": "=menu-listas",
            "pantalla_actual": "listas",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2304,
        -112
      ],
      "id": "7c5dbe18-815d-434c-8192-1f5ba04f325b",
      "name": "registramos usuario21",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Men√∫ Listas:\n\n1. Crear nueva lista\n2. Ver mis listas\n3. Ver items de una lista\n4. Agregar item\n5. Marcar item como completado\n6. Eliminar item\n9. Volver al men√∫ principal\n",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2496,
        -112
      ],
      "id": "a2941786-b853-4d7f-b57a-5a04dfcc3961",
      "name": "opcion 15",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "pantalla_actual": "reportes",
            "paso_actual": "menu-reportes",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1904,
        64
      ],
      "id": "60de7432-9461-45b1-8c1e-616835c28c8c",
      "name": "registramos usuario22",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "591b24cb-4ebe-4044-82a4-42cb1904921b",
              "leftValue": "={{ !$json.paso_actual || String($json.paso_actual).trim() === 'menu-reportes' }}",
              "rightValue": "={{ !$json.userID }}",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        2096,
        64
      ],
      "id": "2cce2be4-7664-4922-8457-07e3ba5de426",
      "name": "si usuario no existe7"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "paso_actual": "=menu-reportes",
            "pantalla_actual": "reportes",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2304,
        48
      ],
      "id": "c7b02f47-9800-44f8-9177-d0ec41cd61b1",
      "name": "registramos usuario23",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Men√∫ Reportes:\n\n1. Resumen de hoy\n2. Tareas pendientes\n3. H√°bitos activos\n9. Volver al men√∫ principal\n",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2496,
        32
      ],
      "id": "ab74224a-3ac3-4d90-84e1-760132c4ed97",
      "name": "opcion 16",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "pantalla_actual": "configuracion",
            "paso_actual": "menu-configuracion",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1840,
        288
      ],
      "id": "e38b4af8-48e8-43fb-adde-46958225a46f",
      "name": "registramos usuario24",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "591b24cb-4ebe-4044-82a4-42cb1904921b",
              "leftValue": "={{ !$json.paso_actual || String($json.paso_actual).trim() === 'menu-configuracion' }}",
              "rightValue": "={{ !$json.userID }}",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        2080,
        272
      ],
      "id": "11ffa69d-c042-4904-b9a4-7cbb5dc3d4ed",
      "name": "si usuario no existe8"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "paso_actual": "=menu-configuracion",
            "pantalla_actual": "configuracion",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2288,
        256
      ],
      "id": "3a755249-8e8f-41e3-9216-2333547130d4",
      "name": "registramos usuario25",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Men√∫ Configuraci√≥n:\n\n1. Cambiar nombre\n9. Volver al men√∫ principal\n",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2512,
        256
      ],
      "id": "e8b56f6d-031b-4d00-ab15-77ae431939b8",
      "name": "opcion 17",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "pantalla_actual": "admin",
            "paso_actual": "menu-admin",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1872,
        496
      ],
      "id": "c38cd4da-50b7-41fe-9f1f-d7d76bcedb38",
      "name": "registramos usuario26",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "591b24cb-4ebe-4044-82a4-42cb1904921b",
              "leftValue": "={{ !$json.paso_actual || String($json.paso_actual).trim() === 'menu-admin' }}",
              "rightValue": "={{ !$json.userID }}",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        2064,
        496
      ],
      "id": "5554c090-3398-45f3-9630-42b987006b6b",
      "name": "si usuario no existe9"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "paso_actual": "=menu-admin",
            "pantalla_actual": "admin",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2272,
        448
      ],
      "id": "8d94a9a6-1d6f-4a49-a4c1-f5796c4942c4",
      "name": "registramos usuario27",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Men√∫ Administrador:\n\n1. Ver usuarios\n9. Volver al men√∫ principal",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2480,
        480
      ],
      "id": "e741decf-5801-4a88-a296-7f331ccb2d13",
      "name": "opcion 18",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "menu-habitos",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "1c7668bf-3423-4c30-8809-a943625aea12"
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -4624,
        1280
      ],
      "id": "b4ad6e9e-4bb9-4f9d-a27c-6c4851905ee2",
      "name": "habitos"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "menu-listas",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "1c7668bf-3423-4c30-8809-a943625aea12"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "3d21620f-32e8-4a3e-aed2-704bd644e7e7",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "ver-items-lista",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "7b65d014-bc6c-45c4-bea6-512bb68da6ad",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "agregar-items-lista",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "290a4d18-1a66-4591-8e54-e848f6440239",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "agregar-item-id",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "9ccd2de7-98fa-449c-b350-926848438b9a",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "completar-item",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "dce08c55-fd47-4014-8714-2866a08f86fe",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "eliminar-item",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -5360,
        1664
      ],
      "id": "17a8cf48-5cc9-49a1-b272-f23d54febe68",
      "name": "Listas"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "menu-reportes",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "1c7668bf-3423-4c30-8809-a943625aea12"
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -6640,
        656
      ],
      "id": "3ac6a7a8-27f3-445e-89f3-92e9b968f414",
      "name": "Reportes"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "menu-configuracion",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "1c7668bf-3423-4c30-8809-a943625aea12"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "07f686cc-d768-40be-8075-459a050c15e0",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "cambiar-nombre",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -6832,
        1376
      ],
      "id": "bea49e6b-3f69-4708-b7a8-6d5c5df6d254",
      "name": "condiguracion"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "15764de0-03eb-43a4-9237-a674bb265a2b"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "7b1e4db0-65e6-4de9-beb6-def825933946",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "631958eb-e6f3-43ec-9719-39d0ec470793",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "76ba5397-ae5d-4255-9240-120e740792cd",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "4",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "76cbc470-c5f6-4daa-b080-cf5ff3674040",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "9",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -4400,
        1088
      ],
      "id": "bc1da471-b593-458e-a794-3b4691b639b3",
      "name": "menu-habitos"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Escribe el nombre del habito",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -3952,
        448
      ],
      "id": "8349de45-cc68-42a6-9b9e-0f173de964a4",
      "name": "opcion 2 de ayuda13",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "paso_actual": "=menu-crear-habito",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4144,
        448
      ],
      "id": "f0a45c3c-5fde-4b24-a990-0e0e64e6c926",
      "name": "Update row in sheet21",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "Escribe el nombre de la lista",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -3936,
        1200
      ],
      "id": "e8b64e77-9ae3-429c-9f36-da2f1b57ff3b",
      "name": "opcion 2 de ayuda14",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "paso_actual": "=menu-crear-lista",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4128,
        1200
      ],
      "id": "d6c1969a-90ca-4a08-a3e5-60318d24bc4a",
      "name": "Update row in sheet22",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "15764de0-03eb-43a4-9237-a674bb265a2b"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "7b1e4db0-65e6-4de9-beb6-def825933946",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "631958eb-e6f3-43ec-9719-39d0ec470793",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "76ba5397-ae5d-4255-9240-120e740792cd",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "4",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "76cbc470-c5f6-4daa-b080-cf5ff3674040",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "5",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "574a968d-e416-440a-a92e-d6d75630a123",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "6",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "50d52f3c-7e08-44b1-8afb-5a3d1b4792f5",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "9",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -4624,
        1728
      ],
      "id": "53aab51e-a46d-4268-8b98-3eb6b91f059f",
      "name": "menu-listas"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "15764de0-03eb-43a4-9237-a674bb265a2b"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "7b1e4db0-65e6-4de9-beb6-def825933946",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "631958eb-e6f3-43ec-9719-39d0ec470793",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "76cbc470-c5f6-4daa-b080-cf5ff3674040",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "9",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -6416,
        624
      ],
      "id": "d8cee9f8-3c76-434f-a2bb-980d0f3cef6c",
      "name": "menu-reportes"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "15764de0-03eb-43a4-9237-a674bb265a2b"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "7b1e4db0-65e6-4de9-beb6-def825933946",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "76cbc470-c5f6-4daa-b080-cf5ff3674040",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "9",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -6640,
        1360
      ],
      "id": "0757e8a8-a907-436a-a034-31fbb290efef",
      "name": "menu-configuracion"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "15764de0-03eb-43a4-9237-a674bb265a2b"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "76cbc470-c5f6-4daa-b080-cf5ff3674040",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "9",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -6736,
        2048
      ],
      "id": "47eb7e7d-4a0c-4550-ab76-8eb062653278",
      "name": "menu-admin"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "menu-crear-recordatorio",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "94ab6bab-a797-41ee-98bd-6412da8e5c2c"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "3468db74-bb14-415e-8a0d-5a9ec0025ae9",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "crear_fecha",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "6545af5c-7ed6-46c2-a430-74f8b906fe44",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "crear_hora",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "6f14712f-9c2c-41e2-8fae-6a5bfaff141c",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "editar-recordatorio",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "200d146c-a8a6-4551-aaf6-3e65a9384df4",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "ver-recordatorios",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "8350fc29-9c2c-4110-9967-6ba4a5bff71c",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "editar-id",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "ec58395a-d34d-465a-ae79-8ebac8b2b586",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "actualizar-recordatorio",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "4c27d6d4-dea9-4164-8b58-4a327891c214",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "eliminar-recordatorio",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "18b8f8e7-1953-4ebd-9b9d-1a56df740c4e",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "menu-crear-habito",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "73401a7e-096f-48f6-8268-4d1f61272a46",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "nombre-habito",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "4855db05-5b06-4250-b958-0575a066f9e3",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "guardar-nombre-habito",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "701ecbf5-a1dd-47b4-8a72-d987a3e2c34f",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "volver-menu-inicial",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "5cf05b50-26bb-4d3c-80b0-26b7c9ba8d3b",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "menu-crear-lista",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "f65f7f5c-e747-41be-8413-583913cdbcd9",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "crear-lista-tipo",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -3248,
        1824
      ],
      "id": "f278b057-a677-4c10-9a8c-9e97d1ee3501",
      "name": "menus-pasos"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "17623f3e-f824-490d-876d-eac3ca5b33c5",
              "leftValue": "={{ $json.paso_actual }}",
              "rightValue": "menu-crear-habito",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -2112,
        2896
      ],
      "id": "6a648ef2-d2b9-4729-89a1-459ad0d0d8d1",
      "name": "If10"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "paso_actual": "nombre-habito",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "={{\n  JSON.stringify({\n    nombre: $('Telegram Trigger').item.json.message.text\n  })\n}}\n",
            "row_number": 0
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1856,
        2864
      ],
      "id": "1c1ce7a6-8517-4699-ae79-1995d023b41d",
      "name": "Update row in sheet23",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      },
      "disabled": true
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "Escribe la frecuencia, diario, semanal",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1648,
        2864
      ],
      "id": "79b483e1-09f1-43d0-95d5-96d2e5511e25",
      "name": "opcion 2 de ayuda15",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "17623f3e-f824-490d-876d-eac3ca5b33c5",
              "leftValue": "={{ $json.paso_actual }}",
              "rightValue": "nombre-habito",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -2112,
        3072
      ],
      "id": "d804a71a-7b5c-40d7-bb3b-dcf8ff204fab",
      "name": "If15"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "Indica la hora",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1632,
        3040
      ],
      "id": "455e03c6-ae71-4516-9c16-b410e24712b4",
      "name": "opcion 2 de ayuda16",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "17623f3e-f824-490d-876d-eac3ca5b33c5",
              "leftValue": "={{ $json.paso_actual }}",
              "rightValue": "guardar-nombre-habito",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -2096,
        3280
      ],
      "id": "efebdd69-ab7e-493e-9a78-7c03a618c15a",
      "name": "If16"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "=‚úÖ Habito creado correctamente\n\nEl id de tu Habito es {{ $json.id_habito }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1536,
        3264
      ],
      "id": "cee1b576-0cfb-4fcc-a842-834cdb959c6b",
      "name": "opcion 2 de ayuda17",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Update row in sheet26').item.json.pantalla_actual }}",
            "paso_actual": "=menu_inicial",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "={{ $('If16').item.json.datos_parciales }}",
            "row_number": 0
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1360,
        3264
      ],
      "id": "f387d99d-5e23-4979-a61d-dd53d63370bf",
      "name": "Update row in sheet25",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "paso_actual": "=guardar-nombre-habito",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "={{\n  JSON.stringify({\n    ...JSON.parse($json.datos_parciales),\n    hora: $('Telegram Trigger').item.json.message.text\n  })\n}}\n",
            "row_number": 0
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1904,
        3264
      ],
      "id": "4e61034b-da2b-4aca-b328-57fd064f85b5",
      "name": "Update row in sheet26",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1438079763,
          "mode": "list",
          "cachedResultName": "HABITOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1438079763"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_habito": "={{ $now }}",
            "nombre": "={{ JSON.parse($json.datos_parciales).nombre }}",
            "frecuencia": "={{ JSON.parse($json.datos_parciales).frecuencia }}",
            "hora_recordatorio": "={{ JSON.parse($json.datos_parciales).hora }}",
            "estado": "Activo",
            "timestamp_creacion": "={{ $today }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "id_habito",
              "displayName": "id_habito",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "frecuencia",
              "displayName": "frecuencia",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "hora_recordatorio",
              "displayName": "hora_recordatorio",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1728,
        3264
      ],
      "id": "221dd4ee-3ca0-459d-ad87-395a484bee8c",
      "name": "Append row in sheet2",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "paso_actual": "=guardar-nombre-habito",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "={{\n  JSON.stringify({\n    ...JSON.parse($json.datos_parciales),\n    frecuencia: $('Telegram Trigger').item.json.message.text\n  })\n}}\n",
            "row_number": 0
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1872,
        3040
      ],
      "id": "c14239af-dfd0-496b-aef1-774ccc1ad98b",
      "name": "Update row in sheet27",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1438079763,
          "mode": "list",
          "cachedResultName": "HABITOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1438079763"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "estado",
              "lookupValue": "Activo"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4112,
        640
      ],
      "id": "d1d44073-49c3-408b-8563-1b8e35fb1d46",
      "name": "Get row(s) in sheet5",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=Tus habitos:\n\nId: {{ $('Get row(s) in sheet5').item.json.id_habito }}\n{{ $('Get row(s) in sheet5').item.json.nombre }}\nHora: {{ $('Get row(s) in sheet5').item.json.hora_recordatorio }}\nEstado:{{ $('Get row(s) in sheet5').item.json.estado }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -3680,
        640
      ],
      "id": "b591d52c-f675-48e0-80b2-9ed4bc4a5758",
      "name": "opcion 2 de ayuda18",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('menu-habitos').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -3904,
        640
      ],
      "id": "e53b1f2d-b835-4f2e-8ec0-97400933cde4",
      "name": "Update row in sheet24",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "=menu-principal",
            "paso_actual": "=menu_inicial",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "={{ $json.datos_parciales }}",
            "row_number": 0
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -2928,
        2384
      ],
      "id": "c43595d1-e4f7-4e63-8a94-d11c80344dbe",
      "name": "volver a menu inicial",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "83f445f1-2b4c-46a2-9d24-cec2e6bee312",
              "leftValue": "={{ $('si usuario no existe').item.json.paso_actual }}",
              "rightValue": "menu-crear-lista",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -3728,
        3056
      ],
      "id": "2134ceec-3ebf-47a6-98bb-aada628a8fe1",
      "name": "If17"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "paso_actual": "crear-lista-tipo",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "=Nombre: {{ $('Telegram Trigger').item.json.message.text }}",
            "row_number": 0
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -3360,
        2576
      ],
      "id": "c63586e1-f7bf-40e4-90e5-616f758f5d53",
      "name": "Update row in sheet28",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "üìÇ Escribe el tipo de lista (compras / tareas / personalizada)",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -3168,
        2576
      ],
      "id": "886e7f92-20b6-4294-a24d-a73aa0f247dd",
      "name": "opcion 2 de ayuda19",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "19efe0a6-b4f3-4df4-a09a-a9ca4553038d",
              "leftValue": "={{ $('si usuario no existe').item.json.paso_actual }}",
              "rightValue": "crear-lista-tipo",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -3600,
        2912
      ],
      "id": "51f35ea0-67e8-4f27-a157-6d8618297a1a",
      "name": "If18"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1781320821,
          "mode": "list",
          "cachedResultName": "LISTAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1781320821"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_lista": "={{ $now }}",
            "nombre_lista": "={{ $json.datos_parciales }}",
            "tipo": "={{ $('Telegram Trigger').item.json.message.text }}",
            "creado_por": "={{ $('Telegram Trigger').item.json.message.from.id }}"
          },
          "matchingColumns": [
            "id_lista"
          ],
          "schema": [
            {
              "id": "id_lista",
              "displayName": "id_lista",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "nombre_lista",
              "displayName": "nombre_lista",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "tipo",
              "displayName": "tipo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -3344,
        2832
      ],
      "id": "a6590761-bca8-419e-896a-eb4c03ec88ab",
      "name": "Append row in sheet4",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "‚úÖ Lista creada correctamente",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -3136,
        2832
      ],
      "id": "8870ae9c-1931-467a-a057-6232bd40a1fc",
      "name": "opcion 2 de ayuda20",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('If18').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -2928,
        2832
      ],
      "id": "6fa72489-27ec-4988-9dde-3dd55f9b7b8f",
      "name": "Update row in sheet29",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1781320821,
          "mode": "list",
          "cachedResultName": "LISTAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1781320821"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "creado_por",
              "lookupValue": "={{ $('Telegram Trigger').item.json.message.from.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4144,
        1392
      ],
      "id": "d1a2dcde-e44f-43f4-b39f-a453f4077a91",
      "name": "Get row(s) in sheet6",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=Tus listas:\n\nId: {{ $json.id_lista }}\n{{ $json.nombre_lista }}\nTipo: {{ $json.tipo }}\ncreado por: {{ $json.creado_por }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -3936,
        1392
      ],
      "id": "a31a793b-bbf2-45b3-b809-e5e898800c67",
      "name": "opcion 2 de ayuda21",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('menu-listas').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -3744,
        1392
      ],
      "id": "1faede6b-a235-4a10-b2de-5edb0452b303",
      "name": "Update row in sheet30",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1781320821,
          "mode": "list",
          "cachedResultName": "LISTAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1781320821"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4160,
        1568
      ],
      "id": "4b455f18-23dd-4c43-9b1e-30c6ee001786",
      "name": "Get row(s) in sheet7",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=Escribe el ID de la lista:",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -3952,
        1584
      ],
      "id": "c4067475-d5c6-447e-8730-4501620ad517",
      "name": "opcion 2 de ayuda22",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('menu-listas').item.json.pantalla_actual }}",
            "paso_actual": "ver-items-lista",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "={{ $('menu-listas').item.json.datos_parciales }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -3760,
        1568
      ],
      "id": "f34f4bf4-1adc-48bd-94df-acbd9f13c69b",
      "name": "Update row in sheet31",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "56cc4681-5b9f-4aea-9c7a-00dd82390839",
              "leftValue": "={{ $json.paso_actual }}",
              "rightValue": "ver-items-lista",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -4864,
        2320
      ],
      "id": "e1473564-7277-49b8-b498-63be00b86edf",
      "name": "If19"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=Escribe el ID de la lista:",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -4144,
        1744
      ],
      "id": "22de8d59-b7bb-4508-a242-816a06738bec",
      "name": "opcion 2 de ayuda23",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('menu-listas').item.json.pantalla_actual }}",
            "paso_actual": "agregar-items-lista",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -3936,
        1760
      ],
      "id": "3f1a6818-50ae-414a-93f2-6e2d94464762",
      "name": "Update row in sheet32",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "c4707af7-c27e-456d-b7e8-0d351f0d3e7a",
              "leftValue": "={{ $json.paso_actual }}",
              "rightValue": "agregar-items-lista",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -4992,
        2528
      ],
      "id": "3c7caf1f-a593-45ff-a25c-4dc52f930242",
      "name": "If20"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "paso_actual": "agregar-item-id",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "=ID {{ $('Telegram Trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4736,
        2512
      ],
      "id": "d79ff52f-b0ba-4b19-bdcc-44cd7b01f5a2",
      "name": "Update row in sheet33",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=Escribe el item:",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -4528,
        2512
      ],
      "id": "bdb02db5-4fa1-4966-af83-1a527caeaf81",
      "name": "opcion 2 de ayuda24",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "7f9cded8-a81a-47e1-b4de-d549908a03d2",
              "leftValue": "={{ $('si usuario no existe').item.json.paso_actual }}",
              "rightValue": "agregar-item-id",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -4992,
        2672
      ],
      "id": "5f8eaf5f-ea41-4577-ad57-fe9d9c0c8ed6",
      "name": "If21"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 2007039590,
          "mode": "list",
          "cachedResultName": "ITEMS_LISTA",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=2007039590"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_item": "={{ $now }}",
            "id_lista": "={{ $('Listas').item.json.datos_parciales }}",
            "estado": "Pendiente",
            "item": "={{ $('Telegram Trigger').item.json.message.text }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "id_item",
              "displayName": "id_item",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_lista",
              "displayName": "id_lista",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "item",
              "displayName": "item",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4560,
        2656
      ],
      "id": "865d885c-b387-4ed5-a5f6-28c869a7e50f",
      "name": "Append row in sheet3",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚úÖ Item agregado",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -4368,
        2656
      ],
      "id": "b5b9e372-82f4-43be-bc29-4a8c2c835284",
      "name": "opcion 2 de ayuda25",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('If21').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4224,
        2656
      ],
      "id": "d52a6a22-41fc-47c1-aca9-e610d57e844a",
      "name": "Update row in sheet34",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 2007039590,
          "mode": "list",
          "cachedResultName": "ITEMS_LISTA",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=2007039590"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_lista",
              "lookupValue": "={{ $('Telegram Trigger').item.json.message.text }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4592,
        2256
      ],
      "id": "8da588a2-9aa2-4947-af64-55f5909ac224",
      "name": "Get row(s) in sheet8",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "={{ $json.id_lista }}\nItem: {{ $json.item }}\nEstado: {{ $json.estado }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -4384,
        2256
      ],
      "id": "34123dcc-a7c2-45b6-93a3-36aef2b03587",
      "name": "opcion 2 de ayuda26",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "paso_actual": "agregar-item-id",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "=ID {{ $json.datos_parciales }}\nItem {{ $('Telegram Trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4752,
        2656
      ],
      "id": "56761aa6-779f-4aa5-b422-377120c69c08",
      "name": "Update row in sheet35",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('If19').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4160,
        2256
      ],
      "id": "f49b221b-59a3-48a4-a158-71e57da2cdea",
      "name": "Update row in sheet36",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚úÖ Escribe el ID del item:\n",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -4256,
        1616
      ],
      "id": "63fe9241-5f18-499f-91d8-01a2d6e39b03",
      "name": "opcion 2 de ayuda28",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('menu-listas').item.json.pantalla_actual }}",
            "paso_actual": "completar-item",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -3936,
        1920
      ],
      "id": "02b25892-e77c-4ebc-9280-20551f2e2344",
      "name": "Update row in sheet37",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 2007039590,
          "mode": "list",
          "cachedResultName": "ITEMS_LISTA",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=2007039590"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_item": "={{ $('Telegram Trigger').item.json.message.text }}",
            "estado": "Completado"
          },
          "matchingColumns": [
            "id_item"
          ],
          "schema": [
            {
              "id": "id_item",
              "displayName": "id_item",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_lista",
              "displayName": "id_lista",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "item",
              "displayName": "item",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4864,
        3184
      ],
      "id": "a9535e23-8d5b-4cec-a554-f85fe3d827f2",
      "name": "Update row in sheet38",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=üéâ Item completado",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -4656,
        3184
      ],
      "id": "8e20f31a-9599-4b5f-86ee-d85b5c8efc57",
      "name": "opcion 2 de ayuda29",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Listas').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4448,
        3184
      ],
      "id": "fd4b9b18-2215-44d9-9c36-dff0de378683",
      "name": "Update row in sheet39",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=üóëÔ∏è Escribe el ID del item a eliminar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -4320,
        1792
      ],
      "id": "b82379c8-1e80-4e8d-8049-175ed2ff0fa1",
      "name": "opcion 2 de ayuda30",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('menu-listas').item.json.pantalla_actual }}",
            "paso_actual": "eliminar-item",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -3984,
        2096
      ],
      "id": "3c5c7c5e-61d1-4135-9c6b-c8507b0019da",
      "name": "Update row in sheet40",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 2007039590,
          "mode": "list",
          "cachedResultName": "ITEMS_LISTA",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=2007039590"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "row_number": 0,
            "id_item": "={{ $('Telegram Trigger').item.json.message.text }}",
            "estado": "Eliminado"
          },
          "matchingColumns": [
            "id_item"
          ],
          "schema": [
            {
              "id": "id_item",
              "displayName": "id_item",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_lista",
              "displayName": "id_lista",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "item",
              "displayName": "item",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4944,
        3392
      ],
      "id": "26ec5923-9f7a-4668-a739-51fee4872382",
      "name": "Update row in sheet41",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=üóëÔ∏è Item eliminado",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -4752,
        3392
      ],
      "id": "badfd5f9-04c2-4ca6-92a3-884851d2505b",
      "name": "opcion 2 de ayuda27",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Listas').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4560,
        3392
      ],
      "id": "9fe9b542-4c78-4831-9402-64cc4233bd86",
      "name": "Update row in sheet42",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Listas').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -3776,
        2208
      ],
      "id": "301f11ce-2f42-4cbd-98be-a0b392b75735",
      "name": "Update row in sheet43",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚úèÔ∏è Escribe tu nuevo nombre",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -6384,
        1344
      ],
      "id": "5e3e96dc-a1eb-408d-a53c-83b5f2c7d15a",
      "name": "opcion 2 de ayuda31",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('menu-configuracion').item.json.pantalla_actual }}",
            "paso_actual": "cambiar-nombre",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "="
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6208,
        1344
      ],
      "id": "e84311f3-c22e-47cc-8801-42b375eba298",
      "name": "Update row in sheet44",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚úÖ Nombre actualizado correctamente",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -6352,
        1600
      ],
      "id": "0905f0b7-1dc4-4475-a1b5-d8dfeb13e0e6",
      "name": "opcion 2 de ayuda32",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1398660913,
          "mode": "list",
          "cachedResultName": "USUARIOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1398660913"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "nombre": "={{ $('Telegram Trigger').item.json.message.text }}",
            "rol": "usuario",
            "permitido": "activo"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "rol",
              "displayName": "rol",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "permitido",
              "displayName": "permitido",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6576,
        1600
      ],
      "id": "06ec0e01-3f47-431b-8366-7258290ee81a",
      "name": "Update row in sheet45",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('tareas2').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6032,
        3808
      ],
      "id": "864fbc66-5fa3-4c16-846c-be6ef225a767",
      "name": "Update row in sheet48",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "agenda-nueva_cita",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "1c7668bf-3423-4c30-8809-a943625aea12"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "f7da34c1-0b06-43c1-a459-33edc8912adc",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "crear-cita-fecha",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "f62bb884-dffb-4c07-a740-41f392ac7070",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "crear-cita-hora",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "849297be-c0a8-423d-81da-1108fac88738",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "crear-cita-nombre",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "dea62413-3b7f-4b58-bb51-7207c8787d34",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "crear-cita-motivo",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "7328453a-dd42-46a3-aca1-9420c8601637",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "crear-cita-atencion",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "ca8663fa-0ff8-4ffa-8440-62e41191fbf0",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "confirmar-cita",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "e6752a5c-e639-45eb-988a-0d64dbfe5cb3",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "guardar-cita",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "41ef7e61-c03e-43c8-b3fc-580395b940e3",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "reprogramar-cita",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "c2503e76-c632-4204-a3ed-a2e73cfe1656",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "reprogramar-fecha",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "3728d6af-646f-4d0e-8af7-998bf1d94163",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "reprogramar-hora",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "5ce0a41c-5d28-4157-ac54-2d87e904881d",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "cancelar-cita",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "c89a0ed8-4e60-489c-b832-845b1de126f2",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "completar-cita",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "bbe33851-229f-4a5d-8429-ffd7b6a5ee43",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "volver",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -6736,
        5520
      ],
      "id": "8b4bf1a7-f4d1-4793-b484-6970ca5451b4",
      "name": "Agendar Citas"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=Empecemos a crear tu cita.\n\nPaso 1 de 6\n¬øCu√°l es la fecha de la cita?\n\nFormato: YYYY-MM-DD\nEjemplo: 2026-02-20\n\n9. Cancelar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5552,
        4816
      ],
      "id": "231fe064-1d90-4f5b-b0d5-7d9e40101310",
      "name": "opcion 2 de ayuda33",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Agendar Citas').item.json.pantalla_actual }}",
            "paso_actual": "crear-cita-fecha",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5344,
        4816
      ],
      "id": "694299ee-ea13-47a2-8549-bcf4f7469305",
      "name": "Update row in sheet49",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Agendar Citas').item.json.pantalla_actual }}",
            "paso_actual": "crear-cita-hora",
            "datos_parciales": "={{\n  JSON.stringify({\n    fecha: $json.formattedDate\n  })\n}}\n"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5584,
        5776
      ],
      "id": "5dcfb232-63d3-47de-88e5-960b0ffcdb8e",
      "name": "Update row in sheet50",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=Paso 2 de 6\n¬øA qu√© hora ser√° la cita?\n\nFormato 24 horas (HH:MM)\nEjemplo: 14:30\n\n9. Cancelar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5328,
        5776
      ],
      "id": "cc487bf4-72cf-4d0c-9ed3-4b1fa6f5baec",
      "name": "opcion 2 de ayuda34",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Agendar Citas').item.json.pantalla_actual }}",
            "paso_actual": "crear-cita-nombre",
            "datos_parciales": "={{\n  JSON.stringify({\n    ...JSON.parse($json.datos_parciales),\n    hora: $('Telegram Trigger').item.json.message.text\n  })\n}}\n\n",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5600,
        5984
      ],
      "id": "5cf3bf63-bd10-4fd6-a544-638e1128d602",
      "name": "Update row in sheet51",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=Paso 3 de 6\n¬øA nombre de qui√©n es la cita?\n\nEscribe el nombre completo.\n\n9. Cancelar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5344,
        5984
      ],
      "id": "fb78de7c-f472-48ba-b267-82aaa2b7966e",
      "name": "opcion 2 de ayuda35",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Agendar Citas').item.json.pantalla_actual }}",
            "paso_actual": "crear-cita-motivo",
            "datos_parciales": "={{\n  JSON.stringify({\n    ...JSON.parse($json.datos_parciales),\n    nombre: $('Telegram Trigger').item.json.message.text\n  })\n}}\n"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5600,
        6176
      ],
      "id": "a25e0802-5b44-4220-af82-944771551288",
      "name": "Update row in sheet52",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=Paso 4 de 6\nCu√©ntame brevemente el motivo de la cita.\n\nEjemplo: Asesor√≠a t√©cnica\n\n9. Cancelar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5376,
        6160
      ],
      "id": "b6ff5a58-ef49-46af-b656-c0df05b25dcc",
      "name": "opcion 2 de ayuda36",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Agendar Citas').item.json.pantalla_actual }}",
            "paso_actual": "crear-cita-atencion",
            "datos_parciales": "={{\n  JSON.stringify({\n    ...JSON.parse($json.datos_parciales),\n    motivo: $('Telegram Trigger').item.json.message.text\n  })\n}}\n"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5584,
        6368
      ],
      "id": "00316429-ed88-451b-8d0f-372b6b2edfbd",
      "name": "Update row in sheet53",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=Paso 5 de 6\n¬øC√≥mo ser√° la atenci√≥n?\n\n Presencial\n Virtual\n Llamada\n Cancelar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5360,
        6368
      ],
      "id": "9e37b871-f619-4c92-8f5c-97675d6bae87",
      "name": "opcion 2 de ayuda37",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Agendar Citas').item.json.pantalla_actual }}",
            "paso_actual": "confirmar-cita",
            "datos_parciales": "={{\n  JSON.stringify({\n    ...JSON.parse($json.datos_parciales),\n    canal: $('Telegram Trigger').item.json.message.text\n  })\n}}\n"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5600,
        6560
      ],
      "id": "0eb84bd0-ce7f-4287-a1b9-0f71093f0413",
      "name": "Update row in sheet54",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=Revisa la informaci√≥n de tu cita:\n\n\"fecha\": \"{{ JSON.parse($json.datos_parciales).fecha }}\"\n\"hora\": \"{{ JSON.parse($json.datos_parciales).hora }}\",\n\"nombre\": \"{{ JSON.parse($json.datos_parciales).nombre }}\",\n\"motivo\": \"{{ JSON.parse($json.datos_parciales).motivo }}\"\n\"canal\": \"{{ $('Telegram Trigger').item.json.message.text }}\"\n\n¬øQu√© deseas hacer?\n1. Confirmar y guardar\n2. Editar informaci√≥n\n3. Cancelar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5360,
        6576
      ],
      "id": "a031c8bd-19f3-4126-a258-5882cf0fe520",
      "name": "opcion 2 de ayuda38",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "e3ea7cbb-7da4-4e29-ab1a-75efd0a84106"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "4943685b-14c8-434a-a4be-55ad2b252ef5",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -5648,
        6768
      ],
      "id": "982916a7-1596-4c6d-9055-438c9ddb0117",
      "name": "Switch"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_cita": "={{ $now }}",
            "timestamp_creacion": "={{ $today }}",
            "creado_por": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "fecha": "={{ JSON.parse($json.datos_parciales).fecha }}",
            "hora": "={{ JSON.parse($json.datos_parciales).hora}}",
            "nombre": "={{ JSON.parse($json.datos_parciales).nombre}}",
            "motivo": "={{ JSON.parse($json.datos_parciales).motivo}}",
            "canal": "={{ JSON.parse($json.datos_parciales).canal}}",
            "estado": "AGENDADA"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "id_cita",
              "displayName": "id_cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "fecha",
              "displayName": "fecha",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "hora",
              "displayName": "hora",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "motivo",
              "displayName": "motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "canal",
              "displayName": "canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5408,
        6752
      ],
      "id": "7a27eb72-2599-467d-bdda-1b6ee013fa41",
      "name": "Append row in sheet5",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=¬°Listo! Tu cita qued√≥ agendada correctamente. \n\nID de la cita: {{ $json.id_cita }}  \n\n¬øQu√© deseas hacer ahora? \n1. Volver a Agenda \n2. Ir al men√∫ principal",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5168,
        6752
      ],
      "id": "17a8ac84-3ad3-4eeb-ad8c-6b1f1b601ac1",
      "name": "opcion 2 de ayuda39",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Agendar Citas').item.json.pantalla_actual }}",
            "paso_actual": "guardar-cita",
            "datos_parciales": "="
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4928,
        6752
      ],
      "id": "41c5f616-69d1-4854-af16-014c77e4272f",
      "name": "Update row in sheet55",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "16000a4f-506b-455a-8cd0-7996c12846d0"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "633ec267-845a-47ae-90af-d439dd90ce22",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "9",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -5664,
        6992
      ],
      "id": "a6d4c16c-6c43-4a5b-99b1-aae2e41992c5",
      "name": "Switch5"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "a5aa9584-1a3d-4f9f-8093-cfdf1d568558"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "4bc1c076-a3a3-4cf3-b068-09a68c5e56a9",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "5036edb6-592b-4a7c-b949-00fc39f76117",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "763a8185-7e69-425c-8c34-40e908e98041",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "4",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "cd0f4679-2b6a-42a2-b42c-2dc9ce109a3c",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "5",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "9175da10-3a44-4b4d-b747-be92d15fe665",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "9",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -5984,
        4976
      ],
      "id": "f48ef707-3257-4fbe-8b27-e2868f99e879",
      "name": "Switch6"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "creado_por",
              "lookupValue": "={{ $('Telegram Trigger').item.json.message.from.id }}"
            },
            {
              "lookupColumn": "estado",
              "lookupValue": "AGENDADA"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5696,
        4976
      ],
      "id": "30e56d57-2ff0-4079-a723-7f8d477e5285",
      "name": "Get row(s) in sheet9",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=Esta es tu agenda:\n\nID:  {{ $json.id_cita }}\nFecha: {{ $json.fecha }}\nHora: {{ $json.hora }}\nNombre: {{ $json.nombre }}\nMotivo: {{ $json.motivo }}\nCanal: {{ $json.canal }}\nEstado: {{ $json.estado }}\n\n1. Volver a menu agenda\n2. Volver al menu principal",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5456,
        4976
      ],
      "id": "58ba5fa5-b683-4897-b8cf-6df9254f76de",
      "name": "opcion 2 de ayuda40",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Agendar Citas').item.json.pantalla_actual }}",
            "paso_actual": "guardar-cita",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5216,
        4976
      ],
      "id": "2e27ab94-62e5-4040-bada-5946079cd6fd",
      "name": "Update row in sheet56",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5664,
        5184
      ],
      "id": "f46cee1f-a1dc-4cbe-b54c-456072753b05",
      "name": "Get row(s) in sheet10",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚úèÔ∏è Escribe el ID de la cita a reprogramar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5456,
        5184
      ],
      "id": "ab471c44-b137-46b5-ab9f-57ba4866960b",
      "name": "opcion 2 de ayuda41",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Agendar Citas').item.json.pantalla_actual }}",
            "paso_actual": "reprogramar-cita",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5248,
        5184
      ],
      "id": "2d558a6b-9250-4c89-8554-c7ac4d13959a",
      "name": "Update row in sheet57",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Agendar Citas').item.json.pantalla_actual }}",
            "paso_actual": "reprogramar-fecha",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "=\n{{\n  JSON.stringify({\n    id_cita: $('Telegram Trigger').item.json.message.text\n  })\n}}\n"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -7280,
        6016
      ],
      "id": "b1e56c85-ba85-4565-9e7d-8150627039e5",
      "name": "Update row in sheet58",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=üìÖ Escribe la nueva fecha (YYYY-MM-DD)",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -7056,
        6016
      ],
      "id": "af565587-54a2-4127-80c8-8304fd90553a",
      "name": "opcion 2 de ayuda42",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Agendar Citas').item.json.pantalla_actual }}",
            "paso_actual": "reprogramar-hora",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "={{\n  JSON.stringify({\n    ...JSON.parse($json.datos_parciales),\n    fecha: $('Telegram Trigger').item.json.message.text\n  })\n}}\n"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -7296,
        6224
      ],
      "id": "b68eaab5-b7ef-49a7-899d-0ab9ee920335",
      "name": "Update row in sheet59",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚è∞ Escribe la nueva hora (HH:MM)",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -7088,
        6224
      ],
      "id": "2c3422ac-b23a-4cb1-87b3-21842d2a9025",
      "name": "opcion 2 de ayuda43",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_cita": "={{ JSON.parse($json.datos_parciales).id_cita}}",
            "fecha": "={{ JSON.parse($json.datos_parciales).fecha}}",
            "hora": "={{ $('Telegram Trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "id_cita"
          ],
          "schema": [
            {
              "id": "id_cita",
              "displayName": "id_cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "fecha",
              "displayName": "fecha",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "hora",
              "displayName": "hora",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "motivo",
              "displayName": "motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "canal",
              "displayName": "canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -7280,
        6480
      ],
      "id": "12520953-b011-490e-aed6-817b94aacc0f",
      "name": "Update row in sheet60",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚úèÔ∏è Cita reprogramada correctamente",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -7072,
        6480
      ],
      "id": "ed37087a-a9cd-4801-8bb1-95a037978697",
      "name": "opcion 2 de ayuda44",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Agendar Citas').item.json.pantalla_actual }}",
            "paso_actual": "volver",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "="
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6848,
        6480
      ],
      "id": "875dd2a2-7bae-4aec-8790-f275393da8b0",
      "name": "Update row in sheet61",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5648,
        5360
      ],
      "id": "31a279ea-0325-423e-9788-9cee7361c103",
      "name": "Get row(s) in sheet11",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=üóëÔ∏è Escribe el ID de la cita a cancelar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5472,
        5360
      ],
      "id": "a04c4354-e923-40fc-a09b-637717dfd086",
      "name": "opcion 2 de ayuda45",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Agendar Citas').item.json.pantalla_actual }}",
            "paso_actual": "cancelar-cita",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5248,
        5360
      ],
      "id": "1dbb9ae1-cebe-41f9-a9e0-ce561ab25a40",
      "name": "Update row in sheet62",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_cita": "={{ $('Telegram Trigger').item.json.message.text }}",
            "estado": "CANCELADA"
          },
          "matchingColumns": [
            "id_cita"
          ],
          "schema": [
            {
              "id": "id_cita",
              "displayName": "id_cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "fecha",
              "displayName": "fecha",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "hora",
              "displayName": "hora",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "motivo",
              "displayName": "motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "canal",
              "displayName": "canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -7280,
        6720
      ],
      "id": "add0eff5-61ca-4ec8-982b-67015662d631",
      "name": "Update row in sheet46",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚ùå Cita cancelada\n\n1. Volver a menu agenda\n9. Volver a menu principal",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -7088,
        6736
      ],
      "id": "ba888141-34af-4cc9-9c30-cac60530dc2d",
      "name": "opcion 2 de ayuda46",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Agendar Citas').item.json.pantalla_actual }}",
            "paso_actual": "volver",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "="
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6848,
        6736
      ],
      "id": "fd85979b-9cb7-4503-abc5-ad43d1d0b24f",
      "name": "Update row in sheet63",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5648,
        5568
      ],
      "id": "899a8d6b-9ae9-4c02-8a7f-715a87eed24a",
      "name": "Get row(s) in sheet12",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚úÖ Escribe el ID de la cita completada",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5440,
        5568
      ],
      "id": "615be5cd-6fd0-4299-ae8d-379606af47d1",
      "name": "opcion 2 de ayuda47",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Agendar Citas').item.json.pantalla_actual }}",
            "paso_actual": "completar-cita",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5232,
        5568
      ],
      "id": "99db5f52-6351-4269-95a5-a9bb50b34f93",
      "name": "Update row in sheet64",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_cita": "={{ $('Telegram Trigger').item.json.message.text }}",
            "estado": "COMPLETADA"
          },
          "matchingColumns": [
            "id_cita"
          ],
          "schema": [
            {
              "id": "id_cita",
              "displayName": "id_cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "fecha",
              "displayName": "fecha",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "hora",
              "displayName": "hora",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "motivo",
              "displayName": "motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "canal",
              "displayName": "canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -7280,
        6960
      ],
      "id": "4db14d56-2190-480b-a66d-ee05ceeedd3a",
      "name": "Update row in sheet65",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=üéâ Cita marcada como completada\n\n1. Volver a menu agenda\n9. Volver a menu principal",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -7024,
        6960
      ],
      "id": "4ba4f867-7358-4537-bbd6-265142a6a439",
      "name": "opcion 2 de ayuda48",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Agendar Citas').item.json.pantalla_actual }}",
            "paso_actual": "volver",
            "timestamp_ultima_interaccion": "={{ $today }}",
            "datos_parciales": "="
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6800,
        6960
      ],
      "id": "bb71993b-b852-4b8c-8a7a-1305b4dd9c31",
      "name": "Update row in sheet66",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Agendar Citas').item.json.pantalla_actual }}",
            "paso_actual": "agenda-nueva_cita",
            "datos_parciales": "="
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5440,
        6928
      ],
      "id": "088da765-ff9b-467a-a95b-c9d80e5178ee",
      "name": "Update row in sheet67",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "menu-admin",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "1c7668bf-3423-4c30-8809-a943625aea12"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "f98c8303-a78f-4574-981f-0ed42d524d10",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "crear-tarea-paso1",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -7072,
        2880
      ],
      "id": "21ac0159-1282-45f2-b870-f5fff6c65bc7",
      "name": "Admin y Tareas"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "15764de0-03eb-43a4-9237-a674bb265a2b"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "7b1e4db0-65e6-4de9-beb6-def825933946",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "631958eb-e6f3-43ec-9719-39d0ec470793",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "76ba5397-ae5d-4255-9240-120e740792cd",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "4",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "76cbc470-c5f6-4daa-b080-cf5ff3674040",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "9",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -3520,
        1936
      ],
      "id": "c09830cb-381f-4273-baed-3de3df019f8a",
      "name": "menu-admin1"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "bf22c1a6-6889-4304-9c32-381dfd473e1e"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "23f2f96c-c4c8-45d6-bdb1-1fdeef10b414",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "8173639c-8b24-45d6-8187-351e362f2e32",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "d61c9b92-a2bc-430d-9464-b6cd85e2db6b",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "4",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "19a5fab9-71d6-4df5-a258-b7d9ddca9255",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "5",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "50c374c6-72f6-46f5-b3de-b7dba74a5e80",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "9",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -6880,
        3056
      ],
      "id": "52a77e0c-3c78-4a1c-8245-727e811f0288",
      "name": "Switch8"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "‚úèÔ∏è Escribe el t√≠tulo de la tarea",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -6624,
        2544
      ],
      "id": "62baafdc-33c1-43cf-8d9a-33d60b74b95e",
      "name": "opcion 22",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "paso_actual": "=crear_tarea_titulo",
            "pantalla_actual": "={{ $('Switch8').item.json.pantalla_actual }}",
            "datos_parciales": "=",
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6288,
        2560
      ],
      "id": "e704e085-a791-4747-9a12-f0629abadd90",
      "name": "Update row in sheet70",
      "alwaysOutputData": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "paso_actual": "=crear_tarea_prioridad",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "datos_parciales": "={{\n  JSON.stringify({\n    titulo: $('Telegram Trigger').item.json.message.text\n  })\n}}",
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6880,
        3392
      ],
      "id": "0b7add9c-3f25-4068-ab15-c2b46448a82e",
      "name": "Update row in sheet71",
      "alwaysOutputData": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "c0e3dbde-47c8-47b3-b3ad-6f25b83f98ad",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "crear_tarea_titulo",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "c5d616b2-2522-44c2-af51-d8ab7d239317",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "crear_tarea_prioridad",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "030fb1ca-2725-4742-96e9-d87d38352e0c",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "crear_tarea_fecha",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "dd557d89-b7e0-462f-baa2-4762eef3c761",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "cambiar_estado_tarea",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "c780ddca-38cf-444f-91c6-4fb9ec735a21",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "nuevo_estado_tarea",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "dba5db7d-c44b-4b7b-bea0-f07079c5bc73",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "editar_tarea_id",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "a5366aa0-9dbb-400d-a903-b4211d19fd30",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "editar_tarea_titulo",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "ebde48dc-0be2-4807-a4ec-418b7cc449f6",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "editar_tarea_fecha",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "3a951cf4-74b6-4ac7-ad36-48ee747eeb3b",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "editar_tarea_estado",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "8256861e-7b41-4d99-a2e1-66c950cd32e4",
                    "leftValue": "={{ $json.paso_actual }}",
                    "rightValue": "eliminar_tarea",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -7472,
        3328
      ],
      "id": "ce7b74bf-cbd2-4dd7-bf9f-6ddfa2899d0c",
      "name": "tareas2"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "‚ö° Escribe la prioridad (alta / media / baja)",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -6624,
        3408
      ],
      "id": "ac0a1010-94bf-41f6-9087-8fbb33969121",
      "name": "opcion 23",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "paso_actual": "=crear_tarea_fecha",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "datos_parciales": "={{\n  JSON.stringify({\n    ...JSON.parse($json.datos_parciales),\n    prioridad: $('Telegram Trigger').item.json.message.text\n  })\n}}\n",
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6448,
        3616
      ],
      "id": "587996d1-f3af-4769-9e27-82fb000bcfe8",
      "name": "Update row in sheet72",
      "alwaysOutputData": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "üìÖ Escribe la fecha objetivo (YYYY-MM-DD)",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -6192,
        3632
      ],
      "id": "9aca0930-7ada-4b55-b4c0-8e49227d7d6e",
      "name": "opcion 24",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 235439255,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=235439255"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_tarea": "={{ $now }}",
            "titulo": "={{ JSON.parse($json.datos_parciales).titulo }}",
            "prioridad": "={{ JSON.parse($json.datos_parciales).prioridad }}",
            "fecha_objetivo": "={{ $('Telegram Trigger').item.json.message.text }}",
            "creado_por": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "estado": "PENDIENTE",
            "timestamp_creacion": "={{ $today }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6464,
        3744
      ],
      "id": "d81b4513-9372-4139-8acd-60ca5141c320",
      "name": "Append row in sheet6",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "‚úÖ Tarea creada correctamente",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -6256,
        3808
      ],
      "id": "fcfaa0bd-0e3e-4555-9764-60b6c430fcca",
      "name": "opcion 25",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 235439255,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=235439255"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "creado_por",
              "lookupValue": "={{ $('Telegram Trigger').item.json.message.from.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6544,
        2704
      ],
      "id": "e3a32a11-a03a-44e8-9c47-f9045c5b89cf",
      "name": "Get row(s) in sheet13",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=Tus tareas:\nID {{ $json.id_tarea }}\nTitulo {{ $json.titulo }}\nPrioridad {{ $json.prioridad }}\nEstado {{ $json.estado }}\nFecha {{ $json.fecha_objetivo }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -6288,
        2704
      ],
      "id": "9f2fb8fe-74b0-4049-94b9-d80269da4f75",
      "name": "opcion 26",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Switch8').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6016,
        2704
      ],
      "id": "79ffaa60-560c-4486-99f6-9b9fe7a4ec8d",
      "name": "Update row in sheet73",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 235439255,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=235439255"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "creado_por",
              "lookupValue": "={{ $('Telegram Trigger').item.json.message.from.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6592,
        2960
      ],
      "id": "4e32fe47-0afc-4ed3-86a3-d9fc3d898a3c",
      "name": "Get row(s) in sheet14",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "üîÑ Escribe el ID de la tarea\n",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -6128,
        2960
      ],
      "id": "df4e4dac-a3df-47a7-af7d-a63019c62f14",
      "name": "opcion 27",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Switch8').item.json.pantalla_actual }}",
            "paso_actual": "=cambiar_estado_tarea",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6368,
        2960
      ],
      "id": "bf61a126-354f-47ca-ba68-4c667cd59f6f",
      "name": "Update row in sheet74",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5824,
        3664
      ],
      "id": "52e26ba6-14ee-4817-a553-558c1e5b7cfc",
      "name": "Update row in sheet75",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "paso_actual": "=nuevo_estado_tarea",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "datos_parciales": "={{\n  JSON.stringify({\n    ID: $('Telegram Trigger').item.json.message.text\n  })\n}}",
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6432,
        3952
      ],
      "id": "8bda9dca-b628-4fb6-9a36-fea5a0e20057",
      "name": "Update row in sheet76",
      "alwaysOutputData": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "‚úèÔ∏è Escribe el nuevo estado\n \nPENDIENTE  \nEN PROCESO \nCOMPLETADA",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -6176,
        3952
      ],
      "id": "875e7a99-99cb-4828-a67f-f2530b254704",
      "name": "opcion 29",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 235439255,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=235439255"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_tarea": "={{ JSON.parse($json.datos_parciales).ID }}",
            "estado": "={{ $('Telegram Trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6448,
        4128
      ],
      "id": "7c9c71f6-7d66-4831-9e9f-690788755df6",
      "name": "Update row in sheet77",
      "alwaysOutputData": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "‚úÖ Estado actualizado",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -6208,
        4128
      ],
      "id": "52a7959b-6b25-449f-8ce4-f1b5c1f02beb",
      "name": "opcion 30",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('tareas2').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5936,
        4128
      ],
      "id": "bf6a3db5-1ea5-477c-9700-58f7cf6c3503",
      "name": "Update row in sheet78",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "‚úèÔ∏è Escribe el ID de la tarea a editar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -6416,
        3136
      ],
      "id": "c9341713-3d7c-441b-93a4-fea1c7bd89f5",
      "name": "opcion 28",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Switch8').item.json.pantalla_actual }}",
            "paso_actual": "=editar_tarea_id",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6192,
        3136
      ],
      "id": "c24d5a0b-e151-4013-9898-2f0fe92f1434",
      "name": "Update row in sheet79",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "datos_parciales": "={{\n  JSON.stringify({\n    id_tarea: $('Telegram Trigger').item.json.message.text\n  })\n}}\n",
            "paso_actual": "editar_tarea_titulo",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6448,
        4320
      ],
      "id": "32e75529-5e75-45ac-9483-4f3a20b6181c",
      "name": "Update row in sheet80",
      "alwaysOutputData": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "üìù Escribe el nuevo t√≠tulo",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -6256,
        4320
      ],
      "id": "00123fc4-5e8d-4300-8a58-bfb5b71b6e75",
      "name": "opcion 31",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "datos_parciales": "={{\n  JSON.stringify({\n    ...JSON.parse($json.datos_parciales),\n    titulo: $('Telegram Trigger').item.json.message.text\n  })\n}}\n",
            "paso_actual": "editar_tarea_fecha",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6432,
        4496
      ],
      "id": "e675567c-ddf7-4c88-880a-35d838a3b8f4",
      "name": "Update row in sheet81",
      "alwaysOutputData": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "üìÖ Escribe la nueva fecha objetivo",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -6240,
        4496
      ],
      "id": "f5ba7791-b720-4b49-854d-822bda11b0d0",
      "name": "opcion 32",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "pantalla_actual": "={{ $json.pantalla_actual }}",
            "paso_actual": "editar_tarea_estado",
            "datos_parciales": "={{\n  JSON.stringify({\n    ...JSON.parse($json.datos_parciales),\n    fecha: $('Telegram Trigger').item.json.message.text\n  })\n}}\n",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6432,
        4704
      ],
      "id": "42f1e189-9236-45cd-a072-a230f4327612",
      "name": "Update row in sheet82",
      "alwaysOutputData": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "üìù Escribe el nuevo estado de tu tarea\n\nPENDIENTE\nREALIZADA",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -6240,
        4704
      ],
      "id": "6e4b5603-f2af-4438-805e-b8560b5228ce",
      "name": "opcion 33",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 235439255,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=235439255"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_tarea": "={{ JSON.parse($json.datos_parciales).id_tarea }}",
            "titulo": "={{ JSON.parse($json.datos_parciales).titulo }}",
            "estado": "={{ $('Telegram Trigger').item.json.message.text }}",
            "fecha_objetivo": "={{ JSON.parse($json.datos_parciales).fecha}}"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -7680,
        3920
      ],
      "id": "38965ff9-5be5-4507-a643-a65b7ec7f250",
      "name": "Update row in sheet83",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "‚úèÔ∏è Tarea actualizada",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -7472,
        3920
      ],
      "id": "8c085790-11d7-497c-bb29-c03851294739",
      "name": "opcion 34",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('tareas2').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -7296,
        3920
      ],
      "id": "f6f582b0-a862-462e-a9b9-1403ae44b5fa",
      "name": "Update row in sheet84",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "üóëÔ∏è Escribe el ID de la tarea a eliminar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -6112,
        3392
      ],
      "id": "0c582d5a-3ef7-4021-a5d8-839abfb751bb",
      "name": "opcion 35",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('Switch8').item.json.pantalla_actual }}",
            "paso_actual": "=eliminar_tarea",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5888,
        3392
      ],
      "id": "a2e11b2c-1bd8-4e37-8d69-b37e71c17d77",
      "name": "Update row in sheet85",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 235439255,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=235439255"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_tarea": "={{ $('Telegram Trigger').item.json.message.text }}",
            "estado": "ELIMINADA"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -7680,
        4192
      ],
      "id": "db035fa4-004d-4f97-82b5-ba419e6a6b93",
      "name": "Update row in sheet86",
      "alwaysOutputData": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "üóëÔ∏è Tarea eliminada",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -7488,
        4192
      ],
      "id": "0b69ecd3-248c-4012-ae76-41b06244ae08",
      "name": "opcion 36",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('tareas2').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -7264,
        4192
      ],
      "id": "fe66b7fa-ab13-4457-b77e-020a128c8301",
      "name": "Update row in sheet87",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -7184,
        5696
      ],
      "typeVersion": 1,
      "id": "38cba60d-b8d2-4593-a69d-cb57db901366",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "timestamp_creacion",
              "lookupValue": "={{ $today }}"
            },
            {
              "lookupColumn": "creado_por",
              "lookupValue": "={{ $('Telegram Trigger').item.json.message.from.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6128,
        528
      ],
      "id": "73f411be-c675-40ca-b42c-10b80933b92f",
      "name": "Get row(s) in sheet15",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 235439255,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=235439255"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "timestamp_creacion",
              "lookupValue": "={{ $today }}"
            },
            {
              "lookupColumn": "creado_por",
              "lookupValue": "={{ $('Telegram Trigger').item.json.message.from.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5904,
        528
      ],
      "id": "4b259937-6ea6-4c53-b2fb-c8badc9eab6b",
      "name": "Get row(s) in sheet18",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1438079763,
          "mode": "list",
          "cachedResultName": "HABITOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1438079763"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "timestamp_creacion",
              "lookupValue": "={{$today}}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5680,
        528
      ],
      "id": "6b0945ab-50d8-4eda-8759-5c454a7293fd",
      "name": "Get row(s) in sheet17",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "let msg = \"üìä *Resumen de hoy*\\n\\n\";\n\n// --- SECCI√ìN CITAS ---\nmsg += \"üìÖ *Citas:*\\n\";\ntry {\n  // Buscamos los datos del primer nodo de la cadena\n  const citas = $(\"Get row(s) in sheet15\").all();\n  citas.forEach(c => {\n    if (c.json.canal) msg += `- ${c.json.canal}\\n`;\n  });\n} catch (e) {\n  msg += \"_Sin citas programadas_\\n\";\n}\n\n// --- SECCI√ìN TAREAS ---\nmsg += \"\\nüìù *Tareas:*\\n\";\ntry {\n  const tareas = $(\"Get row(s) in sheet18\").all();\n  tareas.forEach(t => {\n    if (t.json.titulo) msg += `- ${t.json.titulo}\\n`;\n  });\n} catch (e) {\n  msg += \"_Sin tareas pendientes_\\n\";\n}\n\n// --- SECCI√ìN H√ÅBITOS ---\nmsg += \"\\nüí™ *H√°bitos activos:*\\n\";\ntry {\n  const habitos = $(\"Get row(s) in sheet17\").all();\n  habitos.forEach(h => {\n    if (h.json.nombre) msg += `- ${h.json.nombre}\\n`;\n  });\n} catch (e) {\n  msg += \"_Sin h√°bitos registrados_\\n\";\n}\n\nreturn [{ json: { texto: msg }}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -5472,
        528
      ],
      "id": "460da279-6e0e-43f6-9f25-92c5272c3f5a",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "={{ $json.texto }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5248,
        528
      ],
      "id": "1c0ee81a-3f31-4d80-9f9b-cc3f1228ccd1",
      "name": "opcion 2 de ayuda49",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('menu-reportes').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4976,
        528
      ],
      "id": "66d5c5f3-2654-49f8-852a-3ecc734cd133",
      "name": "Update row in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 235439255,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=235439255"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "creado_por",
              "lookupValue": "={{ $('Telegram Trigger').item.json.message.from.id }}"
            },
            {
              "lookupColumn": "estado",
              "lookupValue": "=PENDIENTE"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6096,
        704
      ],
      "id": "73d0d601-ff6a-44d7-8487-de86ed670bcc",
      "name": "Get row(s) in sheet19",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Obtenemos todos los resultados del nodo de Google Sheets\nconst items = $input.all();\n\nlet msg = \"üìù *Tareas pendientes*\\n\\n\";\n\n// 1. Verificamos si la lista est√° vac√≠a o si el primer elemento no tiene datos\nif (items.length === 0 || !items[0].json.titulo) {\n  msg += \"_No hay tareas pendientes por ahora._\";\n} else {\n  // 2. Si hay datos, recorremos cada tarea\n  items.forEach(t => {\n    // Usamos || para poner un texto por defecto si la celda est√° vac√≠a en Sheets\n    const titulo = t.json.titulo || \"Sin t√≠tulo\";\n    const prioridad = t.json.prioridad || \"Baja\";\n    \n    msg += `- ${titulo} | ${prioridad}\\n`;\n  });\n}\n\nreturn [{ json: { texto: msg }}];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -5840,
        704
      ],
      "id": "0648f925-f762-4b89-bfee-65f4e436d273",
      "name": "Code in JavaScript1"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "={{ $json.texto }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5616,
        720
      ],
      "id": "25f5ceb5-80b6-431b-b16f-dcabd84af75d",
      "name": "opcion 2 de ayuda50",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('menu-reportes').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5312,
        720
      ],
      "id": "7efedf5d-fcd6-4eba-9a88-d354fe24c7fe",
      "name": "Update row in sheet2",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1438079763,
          "mode": "list",
          "cachedResultName": "HABITOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1438079763"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "estado",
              "lookupValue": "ACTIVO"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6096,
        896
      ],
      "id": "78e591d0-f427-43a0-9dd8-a116abdd6085",
      "name": "Get row(s) in sheet20",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Obtenemos todos los h√°bitos que vienen del nodo anterior\nconst items = $input.all();\n\nlet msg = \"üí™ *H√°bitos activos*\\n\\n\";\n\n// 1. Verificamos si no hay datos o si el primer elemento est√° vac√≠o\nif (items.length === 0 || !items[0].json.nombre) {\n  msg += \"_No tienes h√°bitos activos en este momento._\";\n} else {\n  // 2. Recorremos la lista de h√°bitos\n  items.forEach(h => {\n    // Extraemos los datos con un valor por defecto por seguridad\n    const nombre = h.json.nombre || \"H√°bito sin nombre\";\n    const frecuencia = h.json.frecuencia || \"Diaria\";\n    \n    msg += `- ${nombre} (${frecuencia})\\n`;\n  });\n}\n\n// 3. Devolvemos el mensaje listo para Telegram\nreturn [{ json: { texto: msg }}];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -5856,
        896
      ],
      "id": "644ee796-40a6-4461-9ece-3aa92135a7b4",
      "name": "Code in JavaScript2"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "={{ $json.texto }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5616,
        896
      ],
      "id": "cc0b44ab-a011-4a9b-a9f1-29d5ee6ea794",
      "name": "opcion 2 de ayuda51",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('menu-reportes').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5376,
        896
      ],
      "id": "37f02885-da4e-4911-9c4d-bd8a87154570",
      "name": "Update row in sheet3",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('condiguracion').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6112,
        1600
      ],
      "id": "e8b6e0dd-48fb-443e-a38f-fcdb7a92d2c8",
      "name": "Update row in sheet4",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1398660913,
          "mode": "list",
          "cachedResultName": "USUARIOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1398660913"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_user",
              "lookupValue": "={{ $('Telegram Trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6112,
        1888
      ],
      "id": "15af1826-b469-4e4d-9e9d-776257766267",
      "name": "Get row(s) in sheet2",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// 1. Obtenemos todos los datos del nodo de Google Sheets\nconst items = $input.all();\n\nlet msg = \"üëë *Administradores registrados*\\n\\n\";\n\n// 2. Filtramos la lista: solo filas donde la columna 'rol' sea 'ADMIN'\nconst admins = items.filter(u => u.json.rol && u.json.rol.toString().toUpperCase() === \"ADMIN\");\n\n// 3. Verificamos si hay resultados despu√©s del filtro\nif (admins.length === 0) {\n  msg += \"_No se encontraron usuarios con el rol de Administrador._\";\n} else {\n  // 4. Recorremos la lista filtrada\n  admins.forEach(u => {\n    // Usamos 'telegram_user' que es el nombre de tu columna en Sheets\n    const id = u.json.telegram_user || \"S/ID\";\n    const nombre = u.json.nombre || \"Sin nombre\";\n    \n    msg += `- ID: ${id} | Nombre: ${nombre}\\n`;\n  });\n}\n\n// 5. Devolvemos el objeto final\nreturn [{ json: { texto: msg }}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -5888,
        1904
      ],
      "id": "1f7c4e3a-7546-4659-859e-6b89ce5a0877",
      "name": "Code in JavaScript3"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "={{ $json.texto }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5616,
        1904
      ],
      "id": "7bb5bfb6-4605-4989-abfc-5662a190fd8f",
      "name": "opcion 2 de ayuda52",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "9966c3d8-5d74-4467-a390-4e13c14313ba",
              "leftValue": "={{ $('menu-admin').item.json.paso_actual }}",
              "rightValue": "menu-admin",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            },
            {
              "id": "99b91b5c-6f66-4cbb-91fc-1ada4f68c2b4",
              "leftValue": "={{ $json.rol }}",
              "rightValue": "ADMIN",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -6352,
        1920
      ],
      "id": "03ab3fa3-cc9b-4bbc-842c-936a7c4a3e8a",
      "name": "If"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1398660913,
          "mode": "list",
          "cachedResultName": "USUARIOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1398660913"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6528,
        1920
      ],
      "id": "77391184-aefc-4f0c-a6e7-63cdc805e365",
      "name": "Get row(s) in sheet16",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚õî No tienes permisos para acceder a este men√∫\n\n9. Volver a menu principal",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -6064,
        2112
      ],
      "id": "547b354b-580e-4e2f-a1ce-fe71d10f1737",
      "name": "opcion 2 de ayuda53",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1333261549,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ZNkFEzheVP2yOWu--C5EnUkbpemwCqPXqjUEmVi1KZg/edit#gid=1333261549"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "pantalla_actual": "={{ $('menu-admin').item.json.pantalla_actual }}",
            "paso_actual": "=volver-menu-inicial",
            "timestamp_ultima_interaccion": "={{ $today }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5376,
        2144
      ],
      "id": "608606d9-21d3-4570-ab8a-a099d1073baa",
      "name": "Update row in sheet5",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "zq176StcYiehaCDZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "formatDate",
        "date": "={{ $('Telegram Trigger').item.json.message.text }}",
        "format": "yyyy/MM/dd",
        "options": {}
      },
      "type": "n8n-nodes-base.dateTime",
      "typeVersion": 2,
      "position": [
        -6128,
        5472
      ],
      "id": "c9a95cd4-7c57-4029-bb10-7a10dc11e686",
      "name": "Date & Time",
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=Fecha erronea, por favor escribe bien la fecha\n\nFormato: YYYY-MM-DD\nEjemplo: 2026-02-20\n\n9. Cancelar\n",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5856,
        5776
      ],
      "id": "70b1edce-833f-40e6-a3d4-534e04c943f3",
      "name": "opcion 2 de ayuda54",
      "webhookId": "bd345490-5865-4d6a-9027-846ffe4c2345",
      "credentials": {
        "telegramApi": {
          "id": "GKSjXBXnxN8VZdsy",
          "name": "Telegram account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "registro de usuarios": {
      "main": [
        [
          {
            "node": "si usuario no existe",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "menu principal": {
      "main": [
        [
          {
            "node": "registramos usuario5",
            "type": "main",
            "index": 0
          },
          {
            "node": "registramos usuario2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "si usuario no existe": {
      "main": [
        [
          {
            "node": "registramos usuario1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "agenda",
            "type": "main",
            "index": 0
          },
          {
            "node": "ayuda",
            "type": "main",
            "index": 0
          },
          {
            "node": "recordatorios",
            "type": "main",
            "index": 0
          },
          {
            "node": "menus-pasos",
            "type": "main",
            "index": 0
          },
          {
            "node": "habitos",
            "type": "main",
            "index": 0
          },
          {
            "node": "Listas",
            "type": "main",
            "index": 0
          },
          {
            "node": "Reportes",
            "type": "main",
            "index": 0
          },
          {
            "node": "condiguracion",
            "type": "main",
            "index": 0
          },
          {
            "node": "Admin y Tareas",
            "type": "main",
            "index": 0
          },
          {
            "node": "Agendar Citas",
            "type": "main",
            "index": 0
          },
          {
            "node": "tareas2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario1": {
      "main": [
        [
          {
            "node": "menu principal",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "si usuario no existe1": {
      "main": [
        [
          {
            "node": "registramos usuario3",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 3": {
      "main": [
        [
          {
            "node": "registramos usuario8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario4": {
      "main": [
        [
          {
            "node": "si usuario no existe1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "agenda": {
      "main": [
        [
          {
            "node": "menu inical",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario": {
      "main": [
        [
          {
            "node": "opcion 3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario7": {
      "main": [
        [
          {
            "node": "opcion 4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 4": {
      "main": [
        [
          {
            "node": "registramos usuario9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "menu inical": {
      "main": [
        [
          {
            "node": "registramos usuario12",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "registramos usuario4",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "registramos usuario10",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "registramos usuario14",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "registramos usuario18",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "registramos usuario20",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "registramos usuario22",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "registramos usuario24",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "registramos usuario26",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "menu principal",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "menu agenda": {
      "main": [
        [
          {
            "node": "registramos usuario3",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opciones menu agenda",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opciones menu agenda": {
      "main": [
        [
          {
            "node": "registramos usuario3",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "nueva agenda",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "nueva agenda": {
      "main": [
        [
          {
            "node": "registramos usuario",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "registramos usuario",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "registramos usuario7",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario10": {
      "main": [
        [
          {
            "node": "si usuario no existe2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "si usuario no existe2": {
      "main": [
        [
          {
            "node": "registramos usuario11",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario3": {
      "main": [
        [
          {
            "node": "opcion 1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario11": {
      "main": [
        [
          {
            "node": "opcion 6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario12": {
      "main": [
        [
          {
            "node": "si usuario no existe3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "si usuario no existe3": {
      "main": [
        [
          {
            "node": "registramos usuario13",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario13": {
      "main": [
        [
          {
            "node": "opcion 7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 1": {
      "main": [
        []
      ]
    },
    "ayuda": {
      "main": [
        [
          {
            "node": "Switch1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch1": {
      "main": [
        [
          {
            "node": "opcion 1 de ayuda",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 2 de ayuda1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 2 de ayuda",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "menu principal",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 1 de ayuda": {
      "main": [
        []
      ]
    },
    "opcion 2 de ayuda1": {
      "main": [
        []
      ]
    },
    "opcion 2 de ayuda": {
      "main": [
        []
      ]
    },
    "registramos usuario14": {
      "main": [
        [
          {
            "node": "si usuario no existe4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "si usuario no existe4": {
      "main": [
        [
          {
            "node": "registramos usuario15",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario15": {
      "main": [
        [
          {
            "node": "opcion ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "registro de usuarios",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "recordatorios": {
      "main": [
        [
          {
            "node": "menu-recordatorios",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda2": {
      "main": [
        []
      ]
    },
    "If6": {
      "main": [
        [
          {
            "node": "Update row in sheet1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet7": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet1": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda3": {
      "main": [
        []
      ]
    },
    "If7": {
      "main": [
        [
          {
            "node": "Update row in sheet8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet8": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If8": {
      "main": [
        [
          {
            "node": "Update row in sheet9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda5": {
      "main": [
        [
          {
            "node": "Update row in sheet14",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet": {
      "main": [
        [
          {
            "node": "Update row in sheet12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda6": {
      "main": [
        []
      ]
    },
    "Get row(s) in sheet1": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda7": {
      "main": [
        [
          {
            "node": "Update row in sheet10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If9": {
      "main": [
        [
          {
            "node": "Switch4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet10": {
      "main": [
        []
      ]
    },
    "opcion 2 de ayuda8": {
      "main": [
        []
      ]
    },
    "Update row in sheet11": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet12": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If11": {
      "main": [
        [
          {
            "node": "Update row in sheet13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet13": {
      "main": [
        [
          {
            "node": "menu principal",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch4": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If12": {
      "main": [
        [
          {
            "node": "Update row in sheet15",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet3": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda4": {
      "main": [
        []
      ]
    },
    "If13": {
      "main": [
        [
          {
            "node": "Update row in sheet16",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda10": {
      "main": [
        []
      ]
    },
    "Update row in sheet9": {
      "main": [
        [
          {
            "node": "Append row in sheet1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append row in sheet1": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet16": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet15": {
      "main": [
        [
          {
            "node": "Update row in sheet11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda9": {
      "main": [
        [
          {
            "node": "Update row in sheet17",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "menu-recordatorios": {
      "main": [
        [
          {
            "node": "Update row in sheet7",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet4",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "menu principal",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet4": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda11": {
      "main": [
        [
          {
            "node": "Update row in sheet18",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If14": {
      "main": [
        [
          {
            "node": "Update row in sheet20",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet20": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda12": {
      "main": [
        [
          {
            "node": "Update row in sheet19",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "si usuario no existe5": {
      "main": [
        [
          {
            "node": "registramos usuario19",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario18": {
      "main": [
        [
          {
            "node": "si usuario no existe5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario19": {
      "main": [
        [
          {
            "node": "opcion 14",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario20": {
      "main": [
        [
          {
            "node": "si usuario no existe6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "si usuario no existe6": {
      "main": [
        [
          {
            "node": "registramos usuario21",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario21": {
      "main": [
        [
          {
            "node": "opcion 15",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario22": {
      "main": [
        [
          {
            "node": "si usuario no existe7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "si usuario no existe7": {
      "main": [
        [
          {
            "node": "registramos usuario23",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario23": {
      "main": [
        [
          {
            "node": "opcion 16",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario24": {
      "main": [
        [
          {
            "node": "si usuario no existe8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "si usuario no existe8": {
      "main": [
        [
          {
            "node": "registramos usuario25",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario25": {
      "main": [
        [
          {
            "node": "opcion 17",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario26": {
      "main": [
        [
          {
            "node": "si usuario no existe9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "si usuario no existe9": {
      "main": [
        [
          {
            "node": "registramos usuario27",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "registramos usuario27": {
      "main": [
        [
          {
            "node": "opcion 18",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "habitos": {
      "main": [
        [
          {
            "node": "menu-habitos",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet21": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "menu-habitos": {
      "main": [
        [
          {
            "node": "Update row in sheet21",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Listas": {
      "main": [
        [
          {
            "node": "menu-listas",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If19",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If20",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If21",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet38",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet41",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet22": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda14",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Reportes": {
      "main": [
        [
          {
            "node": "menu-reportes",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "menu-listas": {
      "main": [
        [
          {
            "node": "Update row in sheet22",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet7",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 2 de ayuda23",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 2 de ayuda28",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 2 de ayuda30",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet43",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "condiguracion": {
      "main": [
        [
          {
            "node": "menu-configuracion",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet45",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "menus-pasos": {
      "main": [
        [
          {
            "node": "If6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If7",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If8",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If9",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If11",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If13",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If12",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If14",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If10",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If15",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If16",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "volver a menu inicial",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If17",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If18",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If10": {
      "main": [
        [
          {
            "node": "Update row in sheet23",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet23": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda15",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If15": {
      "main": [
        [
          {
            "node": "Update row in sheet27",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If16": {
      "main": [
        [
          {
            "node": "Update row in sheet26",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda17": {
      "main": [
        [
          {
            "node": "Update row in sheet25",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet26": {
      "main": [
        [
          {
            "node": "Append row in sheet2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append row in sheet2": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda17",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet27": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda16",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet5": {
      "main": [
        [
          {
            "node": "Update row in sheet24",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet24": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda18",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "volver a menu inicial": {
      "main": [
        [
          {
            "node": "menu principal",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If17": {
      "main": [
        [
          {
            "node": "Update row in sheet28",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet28": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda19",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If18": {
      "main": [
        [
          {
            "node": "Append row in sheet4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append row in sheet4": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda20",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda20": {
      "main": [
        [
          {
            "node": "Update row in sheet29",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet6": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda21",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda21": {
      "main": [
        [
          {
            "node": "Update row in sheet30",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet7": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda22",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda22": {
      "main": [
        [
          {
            "node": "Update row in sheet31",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If19": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda23": {
      "main": [
        [
          {
            "node": "Update row in sheet32",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If20": {
      "main": [
        [
          {
            "node": "Update row in sheet33",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet33": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda24",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If21": {
      "main": [
        [
          {
            "node": "Update row in sheet35",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append row in sheet3": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda25",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda25": {
      "main": [
        [
          {
            "node": "Update row in sheet34",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet8": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda26",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet35": {
      "main": [
        [
          {
            "node": "Append row in sheet3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda26": {
      "main": [
        [
          {
            "node": "Update row in sheet36",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda28": {
      "main": [
        [
          {
            "node": "Update row in sheet37",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet38": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda29",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda29": {
      "main": [
        [
          {
            "node": "Update row in sheet39",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda30": {
      "main": [
        [
          {
            "node": "Update row in sheet40",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda27": {
      "main": [
        [
          {
            "node": "Update row in sheet42",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet41": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda27",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "menu-configuracion": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda31",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda31": {
      "main": [
        [
          {
            "node": "Update row in sheet44",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet45": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda32",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda32": {
      "main": [
        [
          {
            "node": "Update row in sheet4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Agendar Citas": {
      "main": [
        [
          {
            "node": "Switch6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Date & Time",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet51",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet52",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet53",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet54",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch5",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet58",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet59",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet60",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet46",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet65",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda33": {
      "main": [
        [
          {
            "node": "Update row in sheet49",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet50": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda34",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet51": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda35",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet52": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda36",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet53": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda37",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet54": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda38",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Append row in sheet5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append row in sheet5": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda39",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda39": {
      "main": [
        [
          {
            "node": "Update row in sheet55",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch5": {
      "main": [
        [
          {
            "node": "Update row in sheet67",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "menu principal",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch6": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda33",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet9",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet10",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet11",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet12",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "menu principal",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet9": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda40",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda40": {
      "main": [
        [
          {
            "node": "Update row in sheet56",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet10": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda41",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda41": {
      "main": [
        [
          {
            "node": "Update row in sheet57",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet58": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda42",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet59": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda43",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet60": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda44",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda44": {
      "main": [
        [
          {
            "node": "Update row in sheet61",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet11": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda45",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda45": {
      "main": [
        [
          {
            "node": "Update row in sheet62",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet46": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda46",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda46": {
      "main": [
        [
          {
            "node": "Update row in sheet63",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet12": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda47",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda47": {
      "main": [
        [
          {
            "node": "Update row in sheet64",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet65": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda48",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda48": {
      "main": [
        [
          {
            "node": "Update row in sheet66",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Admin y Tareas": {
      "main": [
        [
          {
            "node": "menu-admin",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch8": {
      "main": [
        [
          {
            "node": "opcion 22",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet13",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet14",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 28",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 35",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet75",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 22": {
      "main": [
        [
          {
            "node": "Update row in sheet70",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet70": {
      "main": [
        []
      ]
    },
    "tareas2": {
      "main": [
        [
          {
            "node": "Update row in sheet71",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet72",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Append row in sheet6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet76",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet77",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet80",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet81",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet82",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet83",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update row in sheet86",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet71": {
      "main": [
        [
          {
            "node": "opcion 23",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet72": {
      "main": [
        [
          {
            "node": "opcion 24",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append row in sheet6": {
      "main": [
        [
          {
            "node": "opcion 25",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 25": {
      "main": [
        [
          {
            "node": "Update row in sheet48",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet13": {
      "main": [
        [
          {
            "node": "opcion 26",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 26": {
      "main": [
        [
          {
            "node": "Update row in sheet73",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet14": {
      "main": [
        [
          {
            "node": "Update row in sheet74",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 27": {
      "main": [
        []
      ]
    },
    "Update row in sheet75": {
      "main": [
        [
          {
            "node": "menu principal",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet74": {
      "main": [
        [
          {
            "node": "opcion 27",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet76": {
      "main": [
        [
          {
            "node": "opcion 29",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet77": {
      "main": [
        [
          {
            "node": "opcion 30",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 30": {
      "main": [
        [
          {
            "node": "Update row in sheet78",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 28": {
      "main": [
        [
          {
            "node": "Update row in sheet79",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet80": {
      "main": [
        [
          {
            "node": "opcion 31",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet81": {
      "main": [
        [
          {
            "node": "opcion 32",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet82": {
      "main": [
        [
          {
            "node": "opcion 33",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 33": {
      "main": [
        []
      ]
    },
    "Update row in sheet83": {
      "main": [
        [
          {
            "node": "opcion 34",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 34": {
      "main": [
        [
          {
            "node": "Update row in sheet84",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 35": {
      "main": [
        [
          {
            "node": "Update row in sheet85",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet86": {
      "main": [
        [
          {
            "node": "opcion 36",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 36": {
      "main": [
        [
          {
            "node": "Update row in sheet87",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "menu-reportes": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet15",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet19",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet20",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet15": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet18",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet18": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet17",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet17": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda49",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda49": {
      "main": [
        [
          {
            "node": "Update row in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet19": {
      "main": [
        [
          {
            "node": "Code in JavaScript1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript1": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda50",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda50": {
      "main": [
        [
          {
            "node": "Update row in sheet2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet20": {
      "main": [
        [
          {
            "node": "Code in JavaScript2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript2": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda51",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda51": {
      "main": [
        [
          {
            "node": "Update row in sheet3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "menu-admin": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet16",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet2": {
      "main": [
        [
          {
            "node": "Code in JavaScript3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript3": {
      "main": [
        [
          {
            "node": "opcion 2 de ayuda52",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet16": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet2",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 2 de ayuda53",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda53": {
      "main": [
        [
          {
            "node": "Update row in sheet5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "opcion 2 de ayuda52": {
      "main": [
        [
          {
            "node": "Update row in sheet5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Date & Time": {
      "main": [
        [
          {
            "node": "Update row in sheet50",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "opcion 2 de ayuda54",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "0ece2453-df7f-4dff-abdf-54ffa23eb02d",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "02187e166e5f23bce2df29504b30b1e9dfa01c5de04a8a2b48ce6ce74cc4ffc7"
  },
  "id": "oAjF7KNxOxzD4TolAmeaS",
  "tags": []
}